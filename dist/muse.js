(()=>{var Cf=Object.create;var rn=Object.defineProperty;var If=Object.getOwnPropertyDescriptor;var Nf=Object.getOwnPropertyNames;var Rf=Object.getPrototypeOf,kf=Object.prototype.hasOwnProperty;var c=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Vf=(r,t)=>{for(var e in t)rn(r,e,{get:t[e],enumerable:!0})},Wf=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Nf(t))!kf.call(r,i)&&i!==e&&rn(r,i,{get:()=>t[i],enumerable:!(n=If(t,i))||n.enumerable});return r};var Ff=(r,t,e)=>(e=r!=null?Cf(Rf(r)):{},Wf(t||!r||!r.__esModule?rn(e,"default",{value:r,enumerable:!0}):e,r));var ue=c(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});function Df(r){return typeof r=="function"}nn.isFunction=Df});var Te=c(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var on=!1;un.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var t=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+t.stack)}else on&&console.log("RxJS: Back to a better error behavior. Thank you. <3");on=r},get useDeprecatedSynchronousErrorHandling(){return on}}});var dr=c(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});function Uf(r){setTimeout(function(){throw r},0)}sn.hostReportError=Uf});var an=c(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});var Bf=Te(),Lf=dr();cn.empty={closed:!0,next:function(r){},error:function(r){if(Bf.config.useDeprecatedSynchronousErrorHandling)throw r;Lf.hostReportError(r)},complete:function(){}}});var g=c(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var yr=c(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});function zf(r){return r!==null&&typeof r=="object"}ln.isObject=zf});var hn=c(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});var Gf=function(){function r(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,n){return n+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return r.prototype=Object.create(Error.prototype),r}();pn.UnsubscriptionError=Gf});var O=c(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var Yf=g(),Qf=yr(),Hf=ue(),mr=hn(),Kf=function(){function r(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return r.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this,n=e._parentOrParents,i=e._ctorUnsubscribe,o=e._unsubscribe,u=e._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var s=0;s<n.length;++s){var f=n[s];f.remove(this)}if(Hf.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(b){t=b instanceof mr.UnsubscriptionError?lu(b.errors):[b]}}if(Yf.isArray(u))for(var s=-1,a=u.length;++s<a;){var p=u[s];if(Qf.isObject(p))try{p.unsubscribe()}catch(v){t=t||[],v instanceof mr.UnsubscriptionError?t=t.concat(lu(v.errors)):t.push(v)}}if(t)throw new mr.UnsubscriptionError(t)}},r.prototype.add=function(t){var e=t;if(!t)return r.EMPTY;switch(typeof t){case"function":e=new r(t);case"object":if(e===this||e.closed||typeof e.unsubscribe!="function")return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof r)){var n=e;e=new r,e._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=e._parentOrParents;if(i===null)e._parentOrParents=this;else if(i instanceof r){if(i===this)return e;e._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return e;var o=this._subscriptions;return o===null?this._subscriptions=[e]:o.push(e),e},r.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}},r.EMPTY=function(t){return t.closed=!0,t}(new r),r}();bn.Subscription=Kf;function lu(r){return r.reduce(function(t,e){return t.concat(e instanceof mr.UnsubscriptionError?e.errors:e)},[])}});var Sr=c(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();Me.$$rxSubscriber=Me.rxSubscriber});var _=c(ce=>{"use strict";var hu=ce&&ce.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ce,"__esModule",{value:!0});var pu=ue(),_n=an(),Jf=O(),Zf=Sr(),se=Te(),Or=dr(),bu=function(r){hu(t,r);function t(e,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=_n.empty;break;case 1:if(!e){o.destination=_n.empty;break}if(typeof e=="object"){e instanceof t?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(o)):(o.syncErrorThrowable=!0,o.destination=new vn(o,e));break}default:o.syncErrorThrowable=!0,o.destination=new vn(o,e,n,i);break}return o}return t.prototype[Zf.rxSubscriber]=function(){return this},t.create=function(e,n,i){var o=new t(e,n,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(Jf.Subscription);ce.Subscriber=bu;var vn=function(r){hu(t,r);function t(e,n,i,o){var u=r.call(this)||this;u._parentSubscriber=e;var s,f=u;return pu.isFunction(n)?s=n:n&&(s=n.next,i=n.error,o=n.complete,n!==_n.empty&&(f=Object.create(n),pu.isFunction(f.unsubscribe)&&u.add(f.unsubscribe.bind(f)),f.unsubscribe=u.unsubscribe.bind(u))),u._context=f,u._next=s,u._error=i,u._complete=o,u}return t.prototype.next=function(e){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!se.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,e):this.__tryOrSetError(n,this._next,e)&&this.unsubscribe()}},t.prototype.error=function(e){if(!this.isStopped){var n=this._parentSubscriber,i=se.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,e),this.unsubscribe()):(this.__tryOrSetError(n,this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=e,n.syncErrorThrown=!0):Or.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;Or.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return e._complete.call(e._context)};!se.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,n){try{e.call(this._context,n)}catch(i){if(this.unsubscribe(),se.config.useDeprecatedSynchronousErrorHandling)throw i;Or.hostReportError(i)}},t.prototype.__tryOrSetError=function(e,n,i){if(!se.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return se.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=o,e.syncErrorThrown=!0,!0):(Or.hostReportError(o),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(bu);ce.SafeSubscriber=vn});var wr=c(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var $f=_();function Xf(r){for(;r;){var t=r,e=t.closed,n=t.destination,i=t.isStopped;if(e||i)return!1;n&&n instanceof $f.Subscriber?r=n:r=null}return!0}dn.canReportError=Xf});var vu=c(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});var yn=_(),_u=Sr(),el=an();function tl(r,t,e){if(r){if(r instanceof yn.Subscriber)return r;if(r[_u.rxSubscriber])return r[_u.rxSubscriber]()}return!r&&!t&&!e?new yn.Subscriber(el.empty):new yn.Subscriber(r,t,e)}mn.toSubscriber=tl});var Y=c(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var V=c(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});function rl(r){return r}On.identity=rl});var xr=c(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});var nl=V();function il(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return du(r)}gr.pipe=il;function du(r){return r.length===0?nl.identity:r.length===1?r[0]:function(e){return r.reduce(function(n,i){return i(n)},e)}}gr.pipeFromArray=du});var d=c(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});var ol=wr(),ul=vu(),sl=Y(),cl=xr(),qr=Te(),al=function(){function r(t){this._isScalar=!1,t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var i=this.operator,o=ul.toSubscriber(t,e,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||qr.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),qr.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){qr.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),ol.canReportError(t)?t.error(e):console.warn(e)}},r.prototype.forEach=function(t,e){var n=this;return e=yu(e),new e(function(i,o){var u;u=n.subscribe(function(s){try{t(s)}catch(f){o(f),u&&u.unsubscribe()}},o,i)})},r.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},r.prototype[sl.observable]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?this:cl.pipeFromArray(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=yu(t),new t(function(n,i){var o;e.subscribe(function(u){return o=u},function(u){return i(u)},function(){return n(o)})})},r.create=function(t){return new r(t)},r}();wn.Observable=al;function yu(r){if(r||(r=qr.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}});var Ce=c(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var fl=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();gn.ObjectUnsubscribedError=fl});var xn=c(Ie=>{"use strict";var ll=Ie&&Ie.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ie,"__esModule",{value:!0});var pl=O(),hl=function(r){ll(t,r);function t(e,n){var i=r.call(this)||this;return i.subject=e,i.subscriber=n,i.closed=!1,i}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,n=e.observers;if(this.subject=null,!(!n||n.length===0||e.isStopped||e.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},t}(pl.Subscription);Ie.SubjectSubscription=hl});var w=c(Q=>{"use strict";var Pn=Q&&Q.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Q,"__esModule",{value:!0});var mu=d(),bl=_(),qn=O(),Ne=Ce(),_l=xn(),vl=Sr(),Su=function(r){Pn(t,r);function t(e){var n=r.call(this,e)||this;return n.destination=e,n}return t}(bl.Subscriber);Q.SubjectSubscriber=Su;var Ou=function(r){Pn(t,r);function t(){var e=r.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype[vl.rxSubscriber]=function(){return new Su(this)},t.prototype.lift=function(e){var n=new jn(this,this);return n.operator=e,n},t.prototype.next=function(e){if(this.closed)throw new Ne.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),u=0;u<i;u++)o[u].next(e)},t.prototype.error=function(e){if(this.closed)throw new Ne.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),u=0;u<i;u++)o[u].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Ne.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(e){if(this.closed)throw new Ne.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){if(this.closed)throw new Ne.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),qn.Subscription.EMPTY):this.isStopped?(e.complete(),qn.Subscription.EMPTY):(this.observers.push(e),new _l.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new mu.Observable;return e.source=this,e},t.create=function(e,n){return new jn(e,n)},t}(mu.Observable);Q.Subject=Ou;var jn=function(r){Pn(t,r);function t(e,n){var i=r.call(this)||this;return i.destination=e,i.source=n,i}return t.prototype.next=function(e){var n=this.destination;n&&n.next&&n.next(e)},t.prototype.error=function(e){var n=this.destination;n&&n.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var n=this.source;return n?this.source.subscribe(e):qn.Subscription.EMPTY},t}(Ou);Q.AnonymousSubject=jn});var jr=c(Re=>{"use strict";var dl=Re&&Re.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Re,"__esModule",{value:!0});var yl=_();function ml(){return function(t){return t.lift(new Sl(t))}}Re.refCount=ml;var Sl=function(){function r(t){this.connectable=t}return r.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new Ol(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),Ol=function(r){dl(t,r);function t(e,n){var i=r.call(this,e)||this;return i.connectable=n,i}return t.prototype._unsubscribe=function(){var e=this.connectable;if(!e){this.connection=null;return}this.connectable=null;var n=e._refCount;if(n<=0){this.connection=null;return}if(e._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=e._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},t}(yl.Subscriber)});var An=c(ae=>{"use strict";var En=ae&&ae.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ae,"__esModule",{value:!0});var wl=w(),gl=d(),xl=_(),wu=O(),ql=jr(),gu=function(r){En(t,r);function t(e,n){var i=r.call(this)||this;return i.source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new wu.Subscription,e.add(this.source.subscribe(new jl(this.getSubject(),this))),e.closed&&(this._connection=null,e=wu.Subscription.EMPTY)),e},t.prototype.refCount=function(){return ql.refCount()(this)},t}(gl.Observable);ae.ConnectableObservable=gu;ae.connectableObservableDescriptor=function(){var r=gu.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var jl=function(r){En(t,r);function t(e,n){var i=r.call(this,e)||this;return i.connectable=n,i}return t.prototype._error=function(e){this._unsubscribe(),r.prototype._error.call(this,e)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}},t}(wl.SubjectSubscriber),Vj=function(){function r(t){this.connectable=t}return r.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new Pl(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),Pl=function(r){En(t,r);function t(e,n){var i=r.call(this,e)||this;return i.connectable=n,i}return t.prototype._unsubscribe=function(){var e=this.connectable;if(!e){this.connection=null;return}this.connectable=null;var n=e._refCount;if(n<=0){this.connection=null;return}if(e._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=e._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},t}(xl.Subscriber)});var Mn=c(fe=>{"use strict";var Pr=fe&&fe.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(fe,"__esModule",{value:!0});var xu=_(),qu=O(),El=d(),Al=w();function Tl(r,t,e,n){return function(i){return i.lift(new Ml(r,t,e,n))}}fe.groupBy=Tl;var Ml=function(){function r(t,e,n,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(t,e){return e.subscribe(new Cl(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),Cl=function(r){Pr(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;return s.keySelector=n,s.elementSelector=i,s.durationSelector=o,s.subjectSelector=u,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return t.prototype._next=function(e){var n;try{n=this.keySelector(e)}catch(i){this.error(i);return}this._group(e,n)},t.prototype._group=function(e,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),u;if(this.elementSelector)try{u=this.elementSelector(e)}catch(a){this.error(a)}else u=e;if(!o){o=this.subjectSelector?this.subjectSelector():new Al.Subject,i.set(n,o);var s=new Tn(n,o,this);if(this.destination.next(s),this.durationSelector){var f=void 0;try{f=this.durationSelector(new Tn(n,o))}catch(a){this.error(a);return}this.add(f.subscribe(new Il(n,o,this)))}}o.closed||o.next(u)},t.prototype._error=function(e){var n=this.groups;n&&(n.forEach(function(i,o){i.error(e)}),n.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(n,i){n.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},t}(xu.Subscriber),Il=function(r){Pr(t,r);function t(e,n,i){var o=r.call(this,n)||this;return o.key=e,o.group=n,o.parent=i,o}return t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this,n=e.parent,i=e.key;this.key=this.parent=null,n&&n.removeGroup(i)},t}(xu.Subscriber),Tn=function(r){Pr(t,r);function t(e,n,i){var o=r.call(this)||this;return o.key=e,o.groupSubject=n,o.refCountSubscription=i,o}return t.prototype._subscribe=function(e){var n=new qu.Subscription,i=this,o=i.refCountSubscription,u=i.groupSubject;return o&&!o.closed&&n.add(new Nl(o)),n.add(u.subscribe(e)),n},t}(El.Observable);fe.GroupedObservable=Tn;var Nl=function(r){Pr(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,e.count++,n}return t.prototype.unsubscribe=function(){var e=this.parent;!e.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),e.count-=1,e.count===0&&e.attemptedToUnsubscribe&&e.unsubscribe())},t}(qu.Subscription)});var Cn=c(ke=>{"use strict";var Rl=ke&&ke.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ke,"__esModule",{value:!0});var kl=w(),Vl=Ce(),Wl=function(r){Rl(t,r);function t(e){var n=r.call(this)||this;return n._value=e,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(e){var n=r.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Vl.ObjectUnsubscribedError;return this._value},t.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},t}(kl.Subject);ke.BehaviorSubject=Wl});var ju=c(Ve=>{"use strict";var Fl=Ve&&Ve.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ve,"__esModule",{value:!0});var Dl=O(),Ul=function(r){Fl(t,r);function t(e,n){return r.call(this)||this}return t.prototype.schedule=function(e,n){return n===void 0&&(n=0),this},t}(Dl.Subscription);Ve.Action=Ul});var le=c(We=>{"use strict";var Bl=We&&We.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(We,"__esModule",{value:!0});var Ll=ju(),zl=function(r){Bl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),this.closed)return this;this.state=e;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},t.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,n){var i=!1,o=void 0;try{this.work(e)}catch(u){i=!0,o=!!u&&u||new Error(u)}if(i)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var e=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null},t}(Ll.Action);We.AsyncAction=zl});var Pu=c(Fe=>{"use strict";var Gl=Fe&&Fe.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Fe,"__esModule",{value:!0});var Yl=le(),Ql=function(r){Gl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return t.prototype.schedule=function(e,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},t.prototype.execute=function(e,n){return n>0||this.closed?r.prototype.execute.call(this,e,n):this._execute(e,n)},t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,e,n,i):e.flush(this)},t}(Yl.AsyncAction);Fe.QueueAction=Ql});var Nn=c(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var Hl=function(){function r(t,e){e===void 0&&(e=r.now),this.SchedulerAction=t,this.now=e}return r.prototype.schedule=function(t,e,n){return e===void 0&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},r.now=function(){return Date.now()},r}();In.Scheduler=Hl});var pe=c(De=>{"use strict";var Kl=De&&De.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(De,"__esModule",{value:!0});var Eu=Nn(),Jl=function(r){Kl(t,r);function t(e,n){n===void 0&&(n=Eu.Scheduler.now);var i=r.call(this,e,function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return t.prototype.schedule=function(e,n,i){return n===void 0&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,i):r.prototype.schedule.call(this,e,n,i)},t.prototype.flush=function(e){var n=this.actions;if(this.active){n.push(e);return}var i;this.active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this.active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}},t}(Eu.Scheduler);De.AsyncScheduler=Jl});var Au=c(Ue=>{"use strict";var Zl=Ue&&Ue.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ue,"__esModule",{value:!0});var $l=pe(),Xl=function(r){Zl(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}($l.AsyncScheduler);Ue.QueueScheduler=Xl});var Rn=c(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});var ep=Pu(),tp=Au();Be.queueScheduler=new tp.QueueScheduler(ep.QueueAction);Be.queue=Be.queueScheduler});var P=c(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var Tu=d();Le.EMPTY=new Tu.Observable(function(r){return r.complete()});function rp(r){return r?np(r):Le.EMPTY}Le.empty=rp;function np(r){return new Tu.Observable(function(t){return r.schedule(function(){return t.complete()})})}});var E=c(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});function ip(r){return r&&typeof r.schedule=="function"}kn.isScheduler=ip});var Wn=c(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.subscribeToArray=function(r){return function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()}}});var Er=c(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var op=d(),up=O();function sp(r,t){return new op.Observable(function(e){var n=new up.Subscription,i=0;return n.add(t.schedule(function(){if(i===r.length){e.complete();return}e.next(r[i++]),e.closed||n.add(this.schedule())})),n})}Fn.scheduleArray=sp});var he=c(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var cp=d(),ap=Wn(),fp=Er();function lp(r,t){return t?fp.scheduleArray(r,t):new cp.Observable(ap.subscribeToArray(r))}Dn.fromArray=lp});var ze=c(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});var pp=E(),hp=he(),bp=Er();function _p(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return pp.isScheduler(e)?(r.pop(),bp.scheduleArray(r,e)):hp.fromArray(r)}Un.of=_p});var Ar=c(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});var Mu=d();function vp(r,t){return t?new Mu.Observable(function(e){return t.schedule(dp,0,{error:r,subscriber:e})}):new Mu.Observable(function(e){return e.error(r)})}Bn.throwError=vp;function dp(r){var t=r.error,e=r.subscriber;e.error(t)}});var Ye=c(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var yp=P(),mp=ze(),Sp=Ar(),Op;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(Op=Ge.NotificationKind||(Ge.NotificationKind={}));var wp=function(){function r(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue=t==="N"}return r.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},r.prototype.do=function(t,e,n){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},r.prototype.accept=function(t,e,n){return t&&typeof t.next=="function"?this.observe(t):this.do(t,e,n)},r.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return mp.of(this.value);case"E":return Sp.throwError(this.error);case"C":return yp.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(t){return typeof t<"u"?new r("N",t):r.undefinedValueNotification},r.createError=function(t){return new r("E",void 0,t)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();Ge.Notification=wp});var zn=c(W=>{"use strict";var gp=W&&W.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(W,"__esModule",{value:!0});var xp=_(),Ln=Ye();function qp(r,t){return t===void 0&&(t=0),function(n){return n.lift(new Cu(r,t))}}W.observeOn=qp;var Cu=function(){function r(t,e){e===void 0&&(e=0),this.scheduler=t,this.delay=e}return r.prototype.call=function(t,e){return e.subscribe(new Iu(t,this.scheduler,this.delay))},r}();W.ObserveOnOperator=Cu;var Iu=function(r){gp(t,r);function t(e,n,i){i===void 0&&(i=0);var o=r.call(this,e)||this;return o.scheduler=n,o.delay=i,o}return t.dispatch=function(e){var n=e.notification,i=e.destination;n.observe(i),this.unsubscribe()},t.prototype.scheduleMessage=function(e){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new Nu(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Ln.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Ln.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Ln.Notification.createComplete()),this.unsubscribe()},t}(xp.Subscriber);W.ObserveOnSubscriber=Iu;var Nu=function(){function r(t,e){this.notification=t,this.destination=e}return r}();W.ObserveOnMessage=Nu});var Tr=c(Qe=>{"use strict";var jp=Qe&&Qe.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Qe,"__esModule",{value:!0});var Pp=w(),Ep=Rn(),Ap=O(),Tp=zn(),Mp=Ce(),Cp=xn(),Ip=function(r){jp(t,r);function t(e,n,i){e===void 0&&(e=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return t.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,e)},t.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new Np(this._getNow(),e)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,e)},t.prototype._subscribe=function(e){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=i.length,s;if(this.closed)throw new Mp.ObjectUnsubscribedError;if(this.isStopped||this.hasError?s=Ap.Subscription.EMPTY:(this.observers.push(e),s=new Cp.SubjectSubscription(this,e)),o&&e.add(e=new Tp.ObserveOnSubscriber(e,o)),n)for(var f=0;f<u&&!e.closed;f++)e.next(i[f]);else for(var f=0;f<u&&!e.closed;f++)e.next(i[f].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s},t.prototype._getNow=function(){return(this.scheduler||Ep.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,u=o.length,s=0;s<u&&!(e-o[s].time<i);)s++;return u>n&&(s=Math.max(s,u-n)),s>0&&o.splice(0,s),o},t}(Pp.Subject);Qe.ReplaySubject=Ip;var Np=function(){function r(t,e){this.time=t,this.value=e}return r}()});var Ke=c(He=>{"use strict";var Rp=He&&He.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(He,"__esModule",{value:!0});var kp=w(),Ru=O(),Vp=function(r){Rp(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return t.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),Ru.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),Ru.Subscription.EMPTY):r.prototype._subscribe.call(this,e)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(e){this.hasCompleted||r.prototype.error.call(this,e)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},t}(kp.Subject);He.AsyncSubject=Vp});var Vu=c(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});var Wp=1,Fp=function(){return Promise.resolve()}(),Mr={};function ku(r){return r in Mr?(delete Mr[r],!0):!1}Cr.Immediate={setImmediate:function(r){var t=Wp++;return Mr[t]=!0,Fp.then(function(){return ku(t)&&r()}),t},clearImmediate:function(r){ku(r)}};Cr.TestTools={pending:function(){return Object.keys(Mr).length}}});var Fu=c(Je=>{"use strict";var Dp=Je&&Je.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Je,"__esModule",{value:!0});var Wu=Vu(),Up=le(),Bp=function(r){Dp(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=Wu.Immediate.setImmediate(e.flush.bind(e,null))))},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,i);e.actions.length===0&&(Wu.Immediate.clearImmediate(n),e.scheduled=void 0)},t}(Up.AsyncAction);Je.AsapAction=Bp});var Du=c(Ze=>{"use strict";var Lp=Ze&&Ze.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ze,"__esModule",{value:!0});var zp=pe(),Gp=function(r){Lp(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,u=n.length;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while(++o<u&&(e=n.shift()));if(this.active=!1,i){for(;++o<u&&(e=n.shift());)e.unsubscribe();throw i}},t}(zp.AsyncScheduler);Ze.AsapScheduler=Gp});var Gn=c($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});var Yp=Fu(),Qp=Du();$e.asapScheduler=new Qp.AsapScheduler(Yp.AsapAction);$e.asap=$e.asapScheduler});var x=c(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});var Hp=le(),Kp=pe();Xe.asyncScheduler=new Kp.AsyncScheduler(Hp.AsyncAction);Xe.async=Xe.asyncScheduler});var Uu=c(et=>{"use strict";var Jp=et&&et.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(et,"__esModule",{value:!0});var Zp=le(),$p=function(r){Jp(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,i);e.actions.length===0&&(cancelAnimationFrame(n),e.scheduled=void 0)},t}(Zp.AsyncAction);et.AnimationFrameAction=$p});var Bu=c(tt=>{"use strict";var Xp=tt&&tt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(tt,"__esModule",{value:!0});var eh=pe(),th=function(r){Xp(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,u=n.length;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while(++o<u&&(e=n.shift()));if(this.active=!1,i){for(;++o<u&&(e=n.shift());)e.unsubscribe();throw i}},t}(eh.AsyncScheduler);tt.AnimationFrameScheduler=th});var Lu=c(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});var rh=Uu(),nh=Bu();rt.animationFrameScheduler=new nh.AnimationFrameScheduler(rh.AnimationFrameAction);rt.animationFrame=rt.animationFrameScheduler});var Yu=c(be=>{"use strict";var zu=be&&be.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(be,"__esModule",{value:!0});var ih=le(),oh=pe(),uh=function(r){zu(t,r);function t(e,n){e===void 0&&(e=Gu),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,e,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var e=this,n=e.actions,i=e.maxFrames,o,u;(u=n[0])&&u.delay<=i&&(n.shift(),this.frame=u.delay,!(o=u.execute(u.state,u.delay))););if(o){for(;u=n.shift();)u.unsubscribe();throw o}},t.frameTimeFactor=10,t}(oh.AsyncScheduler);be.VirtualTimeScheduler=uh;var Gu=function(r){zu(t,r);function t(e,n,i){i===void 0&&(i=e.index+=1);var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=i,o.active=!0,o.index=e.index=i,o}return t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,e,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(e,n)},t.prototype.requestAsyncId=function(e,n,i){i===void 0&&(i=0),this.delay=e.frame+i;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,n,i){i===void 0&&(i=0)},t.prototype._execute=function(e,n){if(this.active===!0)return r.prototype._execute.call(this,e,n)},t.sortActions=function(e,n){return e.delay===n.delay?e.index===n.index?0:e.index>n.index?1:-1:e.delay>n.delay?1:-1},t}(ih.AsyncAction);be.VirtualAction=Gu});var Ir=c(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});function sh(){}Yn.noop=sh});var Qu=c(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var ch=d();function ah(r){return!!r&&(r instanceof ch.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}Qn.isObservable=ah});var _e=c(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});var fh=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();Hn.ArgumentOutOfRangeError=fh});var ve=c(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});var lh=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();Kn.EmptyError=lh});var Zn=c(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});var ph=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();Jn.TimeoutError=ph});var j=c(de=>{"use strict";var hh=de&&de.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(de,"__esModule",{value:!0});var bh=_();function _h(r,t){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Hu(r,t))}}de.map=_h;var Hu=function(){function r(t,e){this.project=t,this.thisArg=e}return r.prototype.call=function(t,e){return e.subscribe(new vh(t,this.project,this.thisArg))},r}();de.MapOperator=Hu;var vh=function(r){hh(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return t.prototype._next=function(e){var n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(bh.Subscriber)});var Zu=c($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var dh=d(),Ku=Ke(),yh=j(),mh=wr(),Sh=g(),Oh=E();function Ju(r,t,e){if(t)if(Oh.isScheduler(t))e=t;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ju(r,e).apply(void 0,n).pipe(yh.map(function(o){return Sh.isArray(o)?t.apply(void 0,o):t(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,u,s={context:o,subject:u,callbackFunc:r,scheduler:e};return new dh.Observable(function(f){if(e){var p={args:n,subscriber:f,params:s};return e.schedule(wh,0,p)}else{if(!u){u=new Ku.AsyncSubject;var a=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];u.next(b.length<=1?b[0]:b),u.complete()};try{r.apply(o,n.concat([a]))}catch(b){mh.canReportError(u)?u.error(b):console.warn(b)}}return u.subscribe(f)}})}}$n.bindCallback=Ju;function wh(r){var t=this,e=this,n=r.args,i=r.subscriber,o=r.params,u=o.callbackFunc,s=o.context,f=o.scheduler,a=o.subject;if(!a){a=o.subject=new Ku.AsyncSubject;var p=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];var q=b.length<=1?b[0]:b;t.add(f.schedule(gh,0,{value:q,subject:a}))};try{u.apply(s,n.concat([p]))}catch(b){a.error(b)}}this.add(a.subscribe(i))}function gh(r){var t=r.value,e=r.subject;e.next(t),e.complete()}});var ts=c(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});var xh=d(),Xu=Ke(),qh=j(),jh=wr(),Ph=E(),Eh=g();function es(r,t,e){if(t)if(Ph.isScheduler(t))e=t;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return es(r,e).apply(void 0,n).pipe(qh.map(function(o){return Eh.isArray(o)?t.apply(void 0,o):t(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:e,context:this};return new xh.Observable(function(u){var s=o.context,f=o.subject;if(e)return e.schedule(Ah,0,{params:o,subscriber:u,context:s});if(!f){f=o.subject=new Xu.AsyncSubject;var a=function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];var v=p.shift();if(v){f.error(v);return}f.next(p.length<=1?p[0]:p),f.complete()};try{r.apply(s,n.concat([a]))}catch(p){jh.canReportError(f)?f.error(p):console.warn(p)}}return f.subscribe(u)})}}Xn.bindNodeCallback=es;function Ah(r){var t=this,e=r.params,n=r.subscriber,i=r.context,o=e.callbackFunc,u=e.args,s=e.scheduler,f=e.subject;if(!f){f=e.subject=new Xu.AsyncSubject;var a=function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];var v=p.shift();if(v)t.add(s.schedule($u,0,{err:v,subject:f}));else{var q=p.length<=1?p[0]:p;t.add(s.schedule(Th,0,{value:q,subject:f}))}};try{o.apply(i,u.concat([a]))}catch(p){this.add(s.schedule($u,0,{err:p,subject:f}))}}this.add(f.subscribe(n))}function Th(r){var t=r.value,e=r.subject;e.next(t),e.complete()}function $u(r){var t=r.err,e=r.subject;e.error(t)}});var F=c(nt=>{"use strict";var Mh=nt&&nt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(nt,"__esModule",{value:!0});var Ch=_(),Ih=function(r){Mh(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e,n,i,o,u){this.destination.next(n)},t.prototype.notifyError=function(e,n){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Ch.Subscriber);nt.OuterSubscriber=Ih});var rs=c(it=>{"use strict";var Nh=it&&it.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(it,"__esModule",{value:!0});var Rh=_(),kh=function(r){Nh(t,r);function t(e,n,i){var o=r.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=i,o.index=0,o}return t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Rh.Subscriber);it.InnerSubscriber=kh});var ns=c(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var Vh=dr();ei.subscribeToPromise=function(r){return function(t){return r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,Vh.hostReportError),t}}});var me=c(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});function is(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}ye.getSymbolIterator=is;ye.iterator=is();ye.$$iterator=ye.iterator});var os=c(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});var Wh=me();ti.subscribeToIterable=function(r){return function(t){var e=r[Wh.iterator]();do{var n=void 0;try{n=e.next()}catch(i){return t.error(i),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(!0);return typeof e.return=="function"&&t.add(function(){e.return&&e.return()}),t}}});var us=c(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});var Fh=Y();ri.subscribeToObservable=function(r){return function(t){var e=r[Fh.observable]();if(typeof e.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}}});var ii=c(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var ui=c(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});function Dh(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}oi.isPromise=Dh});var ot=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var Uh=Wn(),Bh=ns(),Lh=os(),zh=us(),Gh=ii(),Yh=ui(),Qh=yr(),Hh=me(),Kh=Y();si.subscribeTo=function(r){if(!!r&&typeof r[Kh.observable]=="function")return zh.subscribeToObservable(r);if(Gh.isArrayLike(r))return Uh.subscribeToArray(r);if(Yh.isPromise(r))return Bh.subscribeToPromise(r);if(!!r&&typeof r[Hh.iterator]=="function")return Lh.subscribeToIterable(r);var t=Qh.isObject(r)?"an invalid object":"'"+r+"'",e="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(e)}});var D=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var Jh=rs(),Zh=ot(),$h=d();function Xh(r,t,e,n,i){if(i===void 0&&(i=new Jh.InnerSubscriber(r,e,n)),!i.closed)return t instanceof $h.Observable?t.subscribe(i):Zh.subscribeTo(t)(i)}ci.subscribeToResult=Xh});var Nr=c(H=>{"use strict";var eb=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(H,"__esModule",{value:!0});var tb=E(),rb=g(),nb=F(),ib=D(),ob=he(),ss={};function ub(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=void 0,n=void 0;return tb.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(e=r.pop()),r.length===1&&rb.isArray(r[0])&&(r=r[0]),ob.fromArray(r,n).lift(new cs(e))}H.combineLatest=ub;var cs=function(){function r(t){this.resultSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new as(t,this.resultSelector))},r}();H.CombineLatestOperator=cs;var as=function(r){eb(t,r);function t(e,n){var i=r.call(this,e)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return t.prototype._next=function(e){this.values.push(ss),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=e[i];this.add(ib.subscribeToResult(this,o,void 0,i))}}},t.prototype.notifyComplete=function(e){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(e,n,i){var o=this.values,u=o[i],s=this.toRespond?u===ss?--this.toRespond:this.toRespond:0;o[i]=n,s===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(nb.OuterSubscriber);H.CombineLatestSubscriber=as});var fs=c(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});var sb=d(),cb=O(),ab=Y();function fb(r,t){return new sb.Observable(function(e){var n=new cb.Subscription;return n.add(t.schedule(function(){var i=r[ab.observable]();n.add(i.subscribe({next:function(o){n.add(t.schedule(function(){return e.next(o)}))},error:function(o){n.add(t.schedule(function(){return e.error(o)}))},complete:function(){n.add(t.schedule(function(){return e.complete()}))}}))})),n})}ai.scheduleObservable=fb});var ls=c(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});var lb=d(),pb=O();function hb(r,t){return new lb.Observable(function(e){var n=new pb.Subscription;return n.add(t.schedule(function(){return r.then(function(i){n.add(t.schedule(function(){e.next(i),n.add(t.schedule(function(){return e.complete()}))}))},function(i){n.add(t.schedule(function(){return e.error(i)}))})})),n})}fi.schedulePromise=hb});var ps=c(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});var bb=d(),_b=O(),vb=me();function db(r,t){if(!r)throw new Error("Iterable cannot be null");return new bb.Observable(function(e){var n=new _b.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(t.schedule(function(){i=r[vb.iterator](),n.add(t.schedule(function(){if(!e.closed){var o,u;try{var s=i.next();o=s.value,u=s.done}catch(f){e.error(f);return}u?e.complete():(e.next(o),this.schedule())}}))})),n})}li.scheduleIterable=db});var hs=c(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});var yb=Y();function mb(r){return r&&typeof r[yb.observable]=="function"}pi.isInteropObservable=mb});var bs=c(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});var Sb=me();function Ob(r){return r&&typeof r[Sb.iterator]=="function"}hi.isIterable=Ob});var _i=c(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});var wb=fs(),gb=ls(),xb=Er(),qb=ps(),jb=hs(),Pb=ui(),Eb=ii(),Ab=bs();function Tb(r,t){if(r!=null){if(jb.isInteropObservable(r))return wb.scheduleObservable(r,t);if(Pb.isPromise(r))return gb.schedulePromise(r,t);if(Eb.isArrayLike(r))return xb.scheduleArray(r,t);if(Ab.isIterable(r)||typeof r=="string")return qb.scheduleIterable(r,t)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}bi.scheduled=Tb});var A=c(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});var _s=d(),Mb=ot(),Cb=_i();function Ib(r,t){return t?Cb.scheduled(r,t):r instanceof _s.Observable?r:new _s.Observable(Mb.subscribeTo(r))}vi.from=Ib});var y=c(N=>{"use strict";var Rr=N&&N.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(N,"__esModule",{value:!0});var kr=_(),Nb=d(),Rb=ot(),kb=function(r){Rr(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,n}return t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(kr.Subscriber);N.SimpleInnerSubscriber=kb;var Vb=function(r){Rr(t,r);function t(e,n,i){var o=r.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=i,o}return t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(kr.Subscriber);N.ComplexInnerSubscriber=Vb;var Wb=function(r){Rr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(kr.Subscriber);N.SimpleOuterSubscriber=Wb;var Fb=function(r){Rr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e,n,i,o){this.destination.next(n)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(kr.Subscriber);N.ComplexOuterSubscriber=Fb;function Db(r,t){if(!t.closed){if(r instanceof Nb.Observable)return r.subscribe(t);var e;try{e=Rb.subscribeTo(r)(t)}catch(n){t.error(n)}return e}}N.innerSubscribe=Db});var ut=c(U=>{"use strict";var Ub=U&&U.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(U,"__esModule",{value:!0});var Bb=j(),Lb=A(),di=y();function yi(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?function(n){return n.pipe(yi(function(i,o){return Lb.from(r(i,o)).pipe(Bb.map(function(u,s){return t(i,u,o,s)}))},e))}:(typeof t=="number"&&(e=t),function(n){return n.lift(new vs(r,e))})}U.mergeMap=yi;var vs=function(){function r(t,e){e===void 0&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return r.prototype.call=function(t,e){return e.subscribe(new ds(t,this.project,this.concurrent))},r}();U.MergeMapOperator=vs;var ds=function(r){Ub(t,r);function t(e,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,e)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var n,i=this.index++;try{n=this.project(e,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},t.prototype._innerSub=function(e){var n=new di.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=di.innerSubscribe(e,n);o!==n&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(di.SimpleOuterSubscriber);U.MergeMapSubscriber=ds;U.flatMap=yi});var Vr=c(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});var zb=ut(),Gb=V();function Yb(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),zb.mergeMap(Gb.identity,r)}mi.mergeAll=Yb});var Oi=c(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});var Qb=Vr();function Hb(){return Qb.mergeAll(1)}Si.concatAll=Hb});var st=c(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});var Kb=ze(),Jb=Oi();function Zb(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Jb.concatAll()(Kb.of.apply(void 0,r))}wi.concat=Zb});var Wr=c(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});var $b=d(),Xb=A(),e_=P();function t_(r){return new $b.Observable(function(t){var e;try{e=r()}catch(i){t.error(i);return}var n=e?Xb.from(e):e_.empty();return n.subscribe(t)})}gi.defer=t_});var ms=c(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});var r_=d(),ys=g(),n_=j(),i_=yr(),o_=A();function u_(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1){var e=r[0];if(ys.isArray(e))return Fr(e,null);if(i_.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype){var n=Object.keys(e);return Fr(n.map(function(o){return e[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&ys.isArray(r[0])?r[0]:r,Fr(r,null).pipe(n_.map(function(o){return i.apply(void 0,o)}))}return Fr(r,null)}xi.forkJoin=u_;function Fr(r,t){return new r_.Observable(function(e){var n=r.length;if(n===0){e.complete();return}for(var i=new Array(n),o=0,u=0,s=function(a){var p=o_.from(r[a]),b=!1;e.add(p.subscribe({next:function(v){b||(b=!0,u++),i[a]=v},error:function(v){return e.error(v)},complete:function(){o++,(o===n||!b)&&(u===n&&e.next(t?t.reduce(function(v,q,I){return v[q]=i[I],v},{}):i),e.complete())}}))},f=0;f<n;f++)s(f)})}});var ws=c(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});var s_=d(),c_=g(),a_=ue(),f_=j(),Q0=function(){return Object.prototype.toString}();function Ss(r,t,e,n){return a_.isFunction(e)&&(n=e,e=void 0),n?Ss(r,t,e).pipe(f_.map(function(i){return c_.isArray(i)?n.apply(void 0,i):n(i)})):new s_.Observable(function(i){function o(u){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(u)}Os(r,t,o,i,e)})}qi.fromEvent=Ss;function Os(r,t,e,n,i){var o;if(h_(r)){var u=r;r.addEventListener(t,e,i),o=function(){return u.removeEventListener(t,e,i)}}else if(p_(r)){var s=r;r.on(t,e),o=function(){return s.off(t,e)}}else if(l_(r)){var f=r;r.addListener(t,e),o=function(){return f.removeListener(t,e)}}else if(r&&r.length)for(var a=0,p=r.length;a<p;a++)Os(r[a],t,e,n,i);else throw new TypeError("Invalid event target");n.add(o)}function l_(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function p_(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function h_(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}});var xs=c(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});var b_=d(),__=g(),v_=ue(),d_=j();function gs(r,t,e){return e?gs(r,t).pipe(d_.map(function(n){return __.isArray(n)?e.apply(void 0,n):e(n)})):new b_.Observable(function(n){var i=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return n.next(u.length===1?u[0]:u)},o;try{o=r(i)}catch(u){n.error(u);return}if(!!v_.isFunction(t))return function(){return t(i,o)}})}ji.fromEventPattern=gs});var js=c(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});var y_=d(),qs=V(),m_=E();function S_(r,t,e,n,i){var o,u;if(arguments.length==1){var s=r;u=s.initialState,t=s.condition,e=s.iterate,o=s.resultSelector||qs.identity,i=s.scheduler}else n===void 0||m_.isScheduler(n)?(u=r,o=qs.identity,i=n):(u=r,o=n);return new y_.Observable(function(f){var a=u;if(i)return i.schedule(O_,0,{subscriber:f,iterate:e,condition:t,resultSelector:o,state:a});do{if(t){var p=void 0;try{p=t(a)}catch(v){f.error(v);return}if(!p){f.complete();break}}var b=void 0;try{b=o(a)}catch(v){f.error(v);return}if(f.next(b),f.closed)break;try{a=e(a)}catch(v){f.error(v);return}}while(!0)})}Pi.generate=S_;function O_(r){var t=r.subscriber,e=r.condition;if(!t.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){t.error(o);return}else r.needIterate=!0;if(e){var n=void 0;try{n=e(r.state)}catch(o){t.error(o);return}if(!n){t.complete();return}if(t.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){t.error(o);return}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(r)}}});var Es=c(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});var w_=Wr(),Ps=P();function g_(r,t,e){return t===void 0&&(t=Ps.EMPTY),e===void 0&&(e=Ps.EMPTY),w_.defer(function(){return r()?t:e})}Ei.iif=g_});var ct=c(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});var x_=g();function q_(r){return!x_.isArray(r)&&r-parseFloat(r)+1>=0}Ai.isNumeric=q_});var Ts=c(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});var j_=d(),As=x(),P_=ct();function E_(r,t){return r===void 0&&(r=0),t===void 0&&(t=As.async),(!P_.isNumeric(r)||r<0)&&(r=0),(!t||typeof t.schedule!="function")&&(t=As.async),new j_.Observable(function(e){return e.add(t.schedule(A_,r,{subscriber:e,counter:0,period:r})),e})}Ti.interval=E_;function A_(r){var t=r.subscriber,e=r.counter,n=r.period;t.next(e),this.schedule({subscriber:t,counter:e+1,period:n},n)}});var Ci=c(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});var T_=d(),M_=E(),C_=Vr(),I_=he();function N_(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return M_.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(e=r.pop())):typeof i=="number"&&(e=r.pop()),n===null&&r.length===1&&r[0]instanceof T_.Observable?r[0]:C_.mergeAll(e)(I_.fromArray(r,n))}Mi.merge=N_});var Ii=c(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});var R_=d(),k_=Ir();at.NEVER=new R_.Observable(k_.noop);function V_(){return at.NEVER}at.never=V_});var Ms=c(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});var W_=d(),F_=A(),D_=g(),U_=P();function Ni(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===0)return U_.EMPTY;var e=r[0],n=r.slice(1);return r.length===1&&D_.isArray(e)?Ni.apply(void 0,e):new W_.Observable(function(i){var o=function(){return i.add(Ni.apply(void 0,n).subscribe(i))};return F_.from(e).subscribe({next:function(u){i.next(u)},error:o,complete:o})})}Ri.onErrorResumeNext=Ni});var Ns=c(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});var Cs=d(),B_=O();function L_(r,t){return t?new Cs.Observable(function(e){var n=Object.keys(r),i=new B_.Subscription;return i.add(t.schedule(Is,0,{keys:n,index:0,subscriber:e,subscription:i,obj:r})),i}):new Cs.Observable(function(e){for(var n=Object.keys(r),i=0;i<n.length&&!e.closed;i++){var o=n[i];r.hasOwnProperty(o)&&e.next([o,r[o]])}e.complete()})}Dr.pairs=L_;function Is(r){var t=r.keys,e=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(e<t.length){var u=t[e];n.next([u,o[u]]),i.add(this.schedule({keys:t,index:e+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}Dr.dispatch=Is});var Vi=c(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});function z_(r,t){function e(){return!e.pred.apply(e.thisArg,arguments)}return e.pred=r,e.thisArg=t,e}ki.not=z_});var K=c(ft=>{"use strict";var G_=ft&&ft.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ft,"__esModule",{value:!0});var Y_=_();function Q_(r,t){return function(n){return n.lift(new H_(r,t))}}ft.filter=Q_;var H_=function(){function r(t,e){this.predicate=t,this.thisArg=e}return r.prototype.call=function(t,e){return e.subscribe(new K_(t,this.predicate,this.thisArg))},r}(),K_=function(r){G_(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return t.prototype._next=function(e){var n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(e)},t}(Y_.Subscriber)});var Ws=c(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});var J_=Vi(),Rs=ot(),ks=K(),Vs=d();function Z_(r,t,e){return[ks.filter(t,e)(new Vs.Observable(Rs.subscribeTo(r))),ks.filter(J_.not(t,e))(new Vs.Observable(Rs.subscribeTo(r)))]}Wi.partition=Z_});var Fi=c(J=>{"use strict";var $_=J&&J.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0});var X_=g(),ev=he(),tv=F(),rv=D();function nv(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)if(X_.isArray(r[0]))r=r[0];else return r[0];return ev.fromArray(r,void 0).lift(new Fs)}J.race=nv;var Fs=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new Ds(t))},r}();J.RaceOperator=Fs;var Ds=function(r){$_(t,r);function t(e){var n=r.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=e[i],u=rv.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(u),this.add(u)}this.observables=null}},t.prototype.notifyNext=function(e,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var u=this.subscriptions[o];u.unsubscribe(),this.remove(u)}this.subscriptions=null}this.destination.next(n)},t}(tv.OuterSubscriber);J.RaceSubscriber=Ds});var Bs=c(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});var iv=d();function ov(r,t,e){return r===void 0&&(r=0),new iv.Observable(function(n){t===void 0&&(t=r,r=0);var i=0,o=r;if(e)return e.schedule(Us,0,{index:i,count:t,start:r,subscriber:n});do{if(i++>=t){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}Ur.range=ov;function Us(r){var t=r.start,e=r.index,n=r.count,i=r.subscriber;if(e>=n){i.complete();return}i.next(t),!i.closed&&(r.index=e+1,r.start=t+1,this.schedule(r))}Ur.dispatch=Us});var Ui=c(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});var uv=d(),sv=x(),Ls=ct(),zs=E();function cv(r,t,e){r===void 0&&(r=0);var n=-1;return Ls.isNumeric(t)?n=Number(t)<1&&1||Number(t):zs.isScheduler(t)&&(e=t),zs.isScheduler(e)||(e=sv.async),new uv.Observable(function(i){var o=Ls.isNumeric(r)?r:+r-e.now();return e.schedule(av,o,{index:0,period:n,subscriber:i})})}Di.timer=cv;function av(r){var t=r.index,e=r.period,n=r.subscriber;if(n.next(t),!n.closed){if(e===-1)return n.complete();r.index=t+1,this.schedule(r,e)}}});var Gs=c(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});var fv=d(),lv=A(),pv=P();function hv(r,t){return new fv.Observable(function(e){var n;try{n=r()}catch(s){e.error(s);return}var i;try{i=t(n)}catch(s){e.error(s);return}var o=i?lv.from(i):pv.EMPTY,u=o.subscribe(e);return function(){u.unsubscribe(),n&&n.unsubscribe()}})}Bi.using=hv});var Lr=c(Z=>{"use strict";var Ys=Z&&Z.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Z,"__esModule",{value:!0});var bv=he(),_v=g(),vv=_(),Br=me(),Li=y();function dv(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return typeof e=="function"&&r.pop(),bv.fromArray(r,void 0).lift(new Qs(e))}Z.zip=dv;var Qs=function(){function r(t){this.resultSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Hs(t,this.resultSelector))},r}();Z.ZipOperator=Qs;var Hs=function(r){Ys(t,r);function t(e,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,e)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return t.prototype._next=function(e){var n=this.iterators;_v.isArray(e)?n.push(new mv(e)):typeof e[Br.iterator]=="function"?n.push(new yv(e[Br.iterator]())):n.push(new Sv(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,n=e.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=e[i];if(o.stillUnsubscribed){var u=this.destination;u.add(o.subscribe())}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,n=e.length,i=this.destination,o=0;o<n;o++){var u=e[o];if(typeof u.hasValue=="function"&&!u.hasValue())return}for(var s=!1,f=[],o=0;o<n;o++){var u=e[o],a=u.next();if(u.hasCompleted()&&(s=!0),a.done){i.complete();return}f.push(a.value)}this.resultSelector?this._tryresultSelector(f):i.next(f),s&&i.complete()},t.prototype._tryresultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(vv.Subscriber);Z.ZipSubscriber=Hs;var yv=function(){function r(t){this.iterator=t,this.nextResult=t.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},r.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},r}(),mv=function(){function r(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return r.prototype[Br.iterator]=function(){return this},r.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),Sv=function(r){Ys(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return t.prototype[Br.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return e.length===0&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Li.innerSubscribe(this.observable,new Li.SimpleInnerSubscriber(this))},t}(Li.SimpleOuterSubscriber)});var lt=c(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});var Ov=d();h.Observable=Ov.Observable;var wv=An();h.ConnectableObservable=wv.ConnectableObservable;var gv=Mn();h.GroupedObservable=gv.GroupedObservable;var xv=Y();h.observable=xv.observable;var qv=w();h.Subject=qv.Subject;var jv=Cn();h.BehaviorSubject=jv.BehaviorSubject;var Pv=Tr();h.ReplaySubject=Pv.ReplaySubject;var Ev=Ke();h.AsyncSubject=Ev.AsyncSubject;var Ks=Gn();h.asap=Ks.asap;h.asapScheduler=Ks.asapScheduler;var Js=x();h.async=Js.async;h.asyncScheduler=Js.asyncScheduler;var Zs=Rn();h.queue=Zs.queue;h.queueScheduler=Zs.queueScheduler;var $s=Lu();h.animationFrame=$s.animationFrame;h.animationFrameScheduler=$s.animationFrameScheduler;var Xs=Yu();h.VirtualTimeScheduler=Xs.VirtualTimeScheduler;h.VirtualAction=Xs.VirtualAction;var Av=Nn();h.Scheduler=Av.Scheduler;var Tv=O();h.Subscription=Tv.Subscription;var Mv=_();h.Subscriber=Mv.Subscriber;var ec=Ye();h.Notification=ec.Notification;h.NotificationKind=ec.NotificationKind;var Cv=xr();h.pipe=Cv.pipe;var Iv=Ir();h.noop=Iv.noop;var Nv=V();h.identity=Nv.identity;var Rv=Qu();h.isObservable=Rv.isObservable;var kv=_e();h.ArgumentOutOfRangeError=kv.ArgumentOutOfRangeError;var Vv=ve();h.EmptyError=Vv.EmptyError;var Wv=Ce();h.ObjectUnsubscribedError=Wv.ObjectUnsubscribedError;var Fv=hn();h.UnsubscriptionError=Fv.UnsubscriptionError;var Dv=Zn();h.TimeoutError=Dv.TimeoutError;var Uv=Zu();h.bindCallback=Uv.bindCallback;var Bv=ts();h.bindNodeCallback=Bv.bindNodeCallback;var Lv=Nr();h.combineLatest=Lv.combineLatest;var zv=st();h.concat=zv.concat;var Gv=Wr();h.defer=Gv.defer;var Yv=P();h.empty=Yv.empty;var Qv=ms();h.forkJoin=Qv.forkJoin;var Hv=A();h.from=Hv.from;var Kv=ws();h.fromEvent=Kv.fromEvent;var Jv=xs();h.fromEventPattern=Jv.fromEventPattern;var Zv=js();h.generate=Zv.generate;var $v=Es();h.iif=$v.iif;var Xv=Ts();h.interval=Xv.interval;var ed=Ci();h.merge=ed.merge;var td=Ii();h.never=td.never;var rd=ze();h.of=rd.of;var nd=Ms();h.onErrorResumeNext=nd.onErrorResumeNext;var id=Ns();h.pairs=id.pairs;var od=Ws();h.partition=od.partition;var ud=Fi();h.race=ud.race;var sd=Bs();h.range=sd.range;var cd=Ar();h.throwError=cd.throwError;var ad=Ui();h.timer=ad.timer;var fd=Gs();h.using=fd.using;var ld=Lr();h.zip=ld.zip;var pd=_i();h.scheduled=pd.scheduled;var hd=P();h.EMPTY=hd.EMPTY;var bd=Ii();h.NEVER=bd.NEVER;var _d=Te();h.config=_d.config});var Gi=c(pt=>{"use strict";var vd=pt&&pt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(pt,"__esModule",{value:!0});var zi=y();function dd(r){return function(e){return e.lift(new yd(r))}}pt.audit=dd;var yd=function(){function r(t){this.durationSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new md(t,this.durationSelector))},r}(),md=function(r){vd(t,r);function t(e,n){var i=r.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(e)}catch(u){return this.destination.error(u)}var o=zi.innerSubscribe(n,new zi.SimpleInnerSubscriber(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},t.prototype.clearThrottle=function(){var e=this,n=e.value,i=e.hasValue,o=e.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(zi.SimpleOuterSubscriber)});var tc=c(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});var Sd=x(),Od=Gi(),wd=Ui();function gd(r,t){return t===void 0&&(t=Sd.async),Od.audit(function(){return wd.timer(r,t)})}Yi.auditTime=gd});var rc=c(ht=>{"use strict";var xd=ht&&ht.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ht,"__esModule",{value:!0});var Qi=y();function qd(r){return function(e){return e.lift(new jd(r))}}ht.buffer=qd;var jd=function(){function r(t){this.closingNotifier=t}return r.prototype.call=function(t,e){return e.subscribe(new Pd(t,this.closingNotifier))},r}(),Pd=function(r){xd(t,r);function t(e,n){var i=r.call(this,e)||this;return i.buffer=[],i.add(Qi.innerSubscribe(n,new Qi.SimpleInnerSubscriber(i))),i}return t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(Qi.SimpleOuterSubscriber)});var oc=c(bt=>{"use strict";var nc=bt&&bt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(bt,"__esModule",{value:!0});var ic=_();function Ed(r,t){return t===void 0&&(t=null),function(n){return n.lift(new Ad(r,t))}}bt.bufferCount=Ed;var Ad=function(){function r(t,e){this.bufferSize=t,this.startBufferEvery=e,!e||t===e?this.subscriberClass=Td:this.subscriberClass=Md}return r.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},r}(),Td=function(r){nc(t,r);function t(e,n){var i=r.call(this,e)||this;return i.bufferSize=n,i.buffer=[],i}return t.prototype._next=function(e){var n=this.buffer;n.push(e),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},t.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),r.prototype._complete.call(this)},t}(ic.Subscriber),Md=function(r){nc(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return t.prototype._next=function(e){var n=this,i=n.bufferSize,o=n.startBufferEvery,u=n.buffers,s=n.count;this.count++,s%o===0&&u.push([]);for(var f=u.length;f--;){var a=u[f];a.push(e),a.length===i&&(u.splice(f,1),this.destination.next(a))}},t.prototype._complete=function(){for(var e=this,n=e.buffers,i=e.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}r.prototype._complete.call(this)},t}(ic.Subscriber)});var cc=c(_t=>{"use strict";var Cd=_t&&_t.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(_t,"__esModule",{value:!0});var Id=x(),Nd=_(),Rd=E();function kd(r){var t=arguments.length,e=Id.async;Rd.isScheduler(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(u){return u.lift(new Vd(r,n,i,e))}}_t.bufferTime=kd;var Vd=function(){function r(t,e,n,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(t,e){return e.subscribe(new Fd(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),Wd=function(){function r(){this.buffer=[]}return r}(),Fd=function(r){Cd(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=i,s.maxBufferSize=o,s.scheduler=u,s.contexts=[];var f=s.openContext();if(s.timespanOnly=i==null||i<0,s.timespanOnly){var a={subscriber:s,context:f,bufferTimeSpan:n};s.add(f.closeAction=u.schedule(uc,n,a))}else{var p={subscriber:s,context:f},b={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:s,scheduler:u};s.add(f.closeAction=u.schedule(sc,n,p)),s.add(u.schedule(Dd,i,b))}return s}return t.prototype._next=function(e){for(var n=this.contexts,i=n.length,o,u=0;u<i;u++){var s=n[u],f=s.buffer;f.push(e),f.length==this.maxBufferSize&&(o=s)}o&&this.onBufferFull(o)},t.prototype._error=function(e){this.contexts.length=0,r.prototype._error.call(this,e)},t.prototype._complete=function(){for(var e=this,n=e.contexts,i=e.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var n=e.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){e=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:e,bufferTimeSpan:i};this.add(e.closeAction=this.scheduler.schedule(uc,i,o))}},t.prototype.openContext=function(){var e=new Wd;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var n=this.contexts,i=n?n.indexOf(e):-1;i>=0&&n.splice(n.indexOf(e),1)},t}(Nd.Subscriber);function uc(r){var t=r.subscriber,e=r.context;e&&t.closeContext(e),t.closed||(r.context=t.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function Dd(r){var t=r.bufferCreationInterval,e=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,o=n.openContext(),u=this;n.closed||(n.add(o.closeAction=i.schedule(sc,e,{subscriber:n,context:o})),u.schedule(r,t))}function sc(r){var t=r.subscriber,e=r.context;t.closeContext(e)}});var fc=c(vt=>{"use strict";var Ud=vt&&vt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(vt,"__esModule",{value:!0});var Bd=O(),ac=D(),Ld=F();function zd(r,t){return function(n){return n.lift(new Gd(r,t))}}vt.bufferToggle=zd;var Gd=function(){function r(t,e){this.openings=t,this.closingSelector=e}return r.prototype.call=function(t,e){return e.subscribe(new Yd(t,this.openings,this.closingSelector))},r}(),Yd=function(r){Ud(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.closingSelector=i,o.contexts=[],o.add(ac.subscribeToResult(o,n)),o}return t.prototype._next=function(e){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(e)},t.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,e)},t.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},t.prototype.notifyNext=function(e,n){e?this.closeBuffer(e):this.openBuffer(n)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var n=this.closingSelector,i=n.call(this,e);i&&this.trySubscribe(i)}catch(o){this._error(o)}},t.prototype.closeBuffer=function(e){var n=this.contexts;if(n&&e){var i=e.buffer,o=e.subscription;this.destination.next(i),n.splice(n.indexOf(e),1),this.remove(o),o.unsubscribe()}},t.prototype.trySubscribe=function(e){var n=this.contexts,i=[],o=new Bd.Subscription,u={buffer:i,subscription:o};n.push(u);var s=ac.subscribeToResult(this,e,u);!s||s.closed?this.closeBuffer(u):(s.context=u,this.add(s),o.add(s))},t}(Ld.OuterSubscriber)});var lc=c(dt=>{"use strict";var Qd=dt&&dt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(dt,"__esModule",{value:!0});var Hd=O(),Hi=y();function Kd(r){return function(t){return t.lift(new Jd(r))}}dt.bufferWhen=Kd;var Jd=function(){function r(t){this.closingSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Zd(t,this.closingSelector))},r}(),Zd=function(r){Qd(t,r);function t(e,n){var i=r.call(this,e)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(u){return this.error(u)}e=new Hd.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Hi.innerSubscribe(i,new Hi.SimpleInnerSubscriber(this))),this.subscribing=!1},t}(Hi.SimpleOuterSubscriber)});var pc=c(yt=>{"use strict";var $d=yt&&yt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(yt,"__esModule",{value:!0});var Ki=y();function Xd(r){return function(e){var n=new ey(r),i=e.lift(n);return n.caught=i}}yt.catchError=Xd;var ey=function(){function r(t){this.selector=t}return r.prototype.call=function(t,e){return e.subscribe(new ty(t,this.selector,this.caught))},r}(),ty=function(r){$d(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.selector=n,o.caught=i,o}return t.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(u){r.prototype.error.call(this,u);return}this._unsubscribeAndRecycle();var i=new Ki.SimpleInnerSubscriber(this);this.add(i);var o=Ki.innerSubscribe(n,i);o!==i&&this.add(o)}},t}(Ki.SimpleOuterSubscriber)});var hc=c(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});var ry=Nr();function ny(r){return function(t){return t.lift(new ry.CombineLatestOperator(r))}}Ji.combineAll=ny});var bc=c(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});var iy=g(),oy=Nr(),uy=A();function sy(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=null;return typeof r[r.length-1]=="function"&&(e=r.pop()),r.length===1&&iy.isArray(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(uy.from([n].concat(r)),new oy.CombineLatestOperator(e))}}Zi.combineLatest=sy});var _c=c($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var cy=st();function ay(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return e.lift.call(cy.concat.apply(void 0,[e].concat(r)))}}$i.concat=ay});var eo=c(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});var fy=ut();function ly(r,t){return fy.mergeMap(r,t,1)}Xi.concatMap=ly});var vc=c(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});var py=eo();function hy(r,t){return py.concatMap(function(){return r},t)}to.concatMapTo=hy});var dc=c(mt=>{"use strict";var by=mt&&mt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(mt,"__esModule",{value:!0});var _y=_();function vy(r){return function(t){return t.lift(new dy(r,t))}}mt.count=vy;var dy=function(){function r(t,e){this.predicate=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new yy(t,this.predicate,this.source))},r}(),yy=function(r){by(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var n;try{n=this.predicate(e,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(_y.Subscriber)});var yc=c(St=>{"use strict";var my=St&&St.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(St,"__esModule",{value:!0});var ro=y();function Sy(r){return function(t){return t.lift(new Oy(r))}}St.debounce=Sy;var Oy=function(){function r(t){this.durationSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new wy(t,this.durationSelector))},r}(),wy=function(r){my(t,r);function t(e,n){var i=r.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return t.prototype._next=function(e){try{var n=this.durationSelector.call(this,e);n&&this._tryNext(e,n)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,n){var i=this.durationSubscription;this.value=e,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=ro.innerSubscribe(n,new ro.SimpleInnerSubscriber(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,e)}},t}(ro.SimpleOuterSubscriber)});var mc=c(Ot=>{"use strict";var gy=Ot&&Ot.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ot,"__esModule",{value:!0});var xy=_(),qy=x();function jy(r,t){return t===void 0&&(t=qy.async),function(e){return e.lift(new Py(r,t))}}Ot.debounceTime=jy;var Py=function(){function r(t,e){this.dueTime=t,this.scheduler=e}return r.prototype.call=function(t,e){return e.subscribe(new Ey(t,this.dueTime,this.scheduler))},r}(),Ey=function(r){gy(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ay,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;e!==null&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(xy.Subscriber);function Ay(r){r.debouncedNext()}});var Se=c(wt=>{"use strict";var Ty=wt&&wt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(wt,"__esModule",{value:!0});var My=_();function Cy(r){return r===void 0&&(r=null),function(t){return t.lift(new Iy(r))}}wt.defaultIfEmpty=Cy;var Iy=function(){function r(t){this.defaultValue=t}return r.prototype.call=function(t,e){return e.subscribe(new Ny(t,this.defaultValue))},r}(),Ny=function(r){Ty(t,r);function t(e,n){var i=r.call(this,e)||this;return i.defaultValue=n,i.isEmpty=!0,i}return t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(My.Subscriber)});var io=c(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});function Ry(r){return r instanceof Date&&!isNaN(+r)}no.isDate=Ry});var Oc=c(gt=>{"use strict";var ky=gt&&gt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(gt,"__esModule",{value:!0});var Vy=x(),Wy=io(),Fy=_(),Sc=Ye();function Dy(r,t){t===void 0&&(t=Vy.async);var e=Wy.isDate(r),n=e?+r-t.now():Math.abs(r);return function(i){return i.lift(new Uy(n,t))}}gt.delay=Dy;var Uy=function(){function r(t,e){this.delay=t,this.scheduler=e}return r.prototype.call=function(t,e){return e.subscribe(new By(t,this.delay,this.scheduler))},r}(),By=function(r){ky(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return t.dispatch=function(e){for(var n=e.source,i=n.queue,o=e.scheduler,u=e.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(u);if(i.length>0){var s=Math.max(0,i[0].time-o.now());this.schedule(e,s)}else this.unsubscribe(),n.active=!1},t.prototype._schedule=function(e){this.active=!0;var n=this.destination;n.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(this.errored!==!0){var n=this.scheduler,i=new Ly(n.now()+this.delay,e);this.queue.push(i),this.active===!1&&this._schedule(n)}},t.prototype._next=function(e){this.scheduleNotification(Sc.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Sc.Notification.createComplete()),this.unsubscribe()},t}(Fy.Subscriber),Ly=function(){function r(t,e){this.time=t,this.notification=e}return r}()});var gc=c(xt=>{"use strict";var oo=xt&&xt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(xt,"__esModule",{value:!0});var zy=_(),Gy=d(),Yy=F(),Qy=D();function Hy(r,t){return t?function(e){return new Jy(e,t).lift(new wc(r))}:function(e){return e.lift(new wc(r))}}xt.delayWhen=Hy;var wc=function(){function r(t){this.delayDurationSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Ky(t,this.delayDurationSelector))},r}(),Ky=function(r){oo(t,r);function t(e,n){var i=r.call(this,e)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return t.prototype.notifyNext=function(e,n,i,o,u){this.destination.next(e),this.removeSubscription(u),this.tryComplete()},t.prototype.notifyError=function(e,n){this._error(e)},t.prototype.notifyComplete=function(e){var n=this.removeSubscription(e);n&&this.destination.next(n),this.tryComplete()},t.prototype._next=function(e){var n=this.index++;try{var i=this.delayDurationSelector(e,n);i&&this.tryDelay(i,e)}catch(o){this.destination.error(o)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(e);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),e.outerValue},t.prototype.tryDelay=function(e,n){var i=Qy.subscribeToResult(this,e,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},t.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},t}(Yy.OuterSubscriber),Jy=function(r){oo(t,r);function t(e,n){var i=r.call(this)||this;return i.source=e,i.subscriptionDelay=n,i}return t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new Zy(e,this.source))},t}(Gy.Observable),Zy=function(r){oo(t,r);function t(e,n){var i=r.call(this)||this;return i.parent=e,i.source=n,i.sourceSubscribed=!1,i}return t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(zy.Subscriber)});var xc=c(qt=>{"use strict";var $y=qt&&qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(qt,"__esModule",{value:!0});var Xy=_();function em(){return function(t){return t.lift(new tm)}}qt.dematerialize=em;var tm=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new rm(t))},r}(),rm=function(r){$y(t,r);function t(e){return r.call(this,e)||this}return t.prototype._next=function(e){e.observe(this.destination)},t}(Xy.Subscriber)});var jc=c(Oe=>{"use strict";var nm=Oe&&Oe.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Oe,"__esModule",{value:!0});var uo=y();function im(r,t){return function(e){return e.lift(new om(r,t))}}Oe.distinct=im;var om=function(){function r(t,e){this.keySelector=t,this.flushes=e}return r.prototype.call=function(t,e){return e.subscribe(new qc(t,this.keySelector,this.flushes))},r}(),qc=function(r){nm(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.keySelector=n,o.values=new Set,i&&o.add(uo.innerSubscribe(i,new uo.SimpleInnerSubscriber(o))),o}return t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var n,i=this.destination;try{n=this.keySelector(e)}catch(o){i.error(o);return}this._finalizeNext(n,e)},t.prototype._finalizeNext=function(e,n){var i=this.values;i.has(e)||(i.add(e),this.destination.next(n))},t}(uo.SimpleOuterSubscriber);Oe.DistinctSubscriber=qc});var so=c(jt=>{"use strict";var um=jt&&jt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(jt,"__esModule",{value:!0});var sm=_();function cm(r,t){return function(e){return e.lift(new am(r,t))}}jt.distinctUntilChanged=cm;var am=function(){function r(t,e){this.compare=t,this.keySelector=e}return r.prototype.call=function(t,e){return e.subscribe(new fm(t,this.compare,this.keySelector))},r}(),fm=function(r){um(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return t.prototype.compare=function(e,n){return e===n},t.prototype._next=function(e){var n;try{var i=this.keySelector;n=i?i(e):e}catch(s){return this.destination.error(s)}var o=!1;if(this.hasKey)try{var u=this.compare;o=u(this.key,n)}catch(s){return this.destination.error(s)}else this.hasKey=!0;o||(this.key=n,this.destination.next(e))},t}(sm.Subscriber)});var Pc=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});var lm=so();function pm(r,t){return lm.distinctUntilChanged(function(e,n){return t?t(e[r],n[r]):e[r]===n[r]})}co.distinctUntilKeyChanged=pm});var Et=c(Pt=>{"use strict";var hm=Pt&&Pt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Pt,"__esModule",{value:!0});var bm=ve(),_m=_();function vm(r){return r===void 0&&(r=mm),function(t){return t.lift(new dm(r))}}Pt.throwIfEmpty=vm;var dm=function(){function r(t){this.errorFactory=t}return r.prototype.call=function(t,e){return e.subscribe(new ym(t,this.errorFactory))},r}(),ym=function(r){hm(t,r);function t(e,n){var i=r.call(this,e)||this;return i.errorFactory=n,i.hasValue=!1,i}return t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)},t}(_m.Subscriber);function mm(){return new bm.EmptyError}});var zr=c(At=>{"use strict";var Sm=At&&At.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(At,"__esModule",{value:!0});var Om=_(),wm=_e(),gm=P();function xm(r){return function(t){return r===0?gm.empty():t.lift(new qm(r))}}At.take=xm;var qm=function(){function r(t){if(this.total=t,this.total<0)throw new wm.ArgumentOutOfRangeError}return r.prototype.call=function(t,e){return e.subscribe(new jm(t,this.total))},r}(),jm=function(r){Sm(t,r);function t(e,n){var i=r.call(this,e)||this;return i.total=n,i.count=0,i}return t.prototype._next=function(e){var n=this.total,i=++this.count;i<=n&&(this.destination.next(e),i===n&&(this.destination.complete(),this.unsubscribe()))},t}(Om.Subscriber)});var Ac=c(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});var Ec=_e(),Pm=K(),Em=Et(),Am=Se(),Tm=zr();function Mm(r,t){if(r<0)throw new Ec.ArgumentOutOfRangeError;var e=arguments.length>=2;return function(n){return n.pipe(Pm.filter(function(i,o){return o===r}),Tm.take(1),e?Am.defaultIfEmpty(t):Em.throwIfEmpty(function(){return new Ec.ArgumentOutOfRangeError}))}}ao.elementAt=Mm});var Tc=c(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});var Cm=st(),Im=ze();function Nm(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return Cm.concat(e,Im.of.apply(void 0,r))}}fo.endWith=Nm});var Mc=c(Tt=>{"use strict";var Rm=Tt&&Tt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Tt,"__esModule",{value:!0});var km=_();function Vm(r,t){return function(e){return e.lift(new Wm(r,t,e))}}Tt.every=Vm;var Wm=function(){function r(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return r.prototype.call=function(t,e){return e.subscribe(new Fm(t,this.predicate,this.thisArg,this.source))},r}(),Fm=function(r){Rm(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.predicate=n,u.thisArg=i,u.source=o,u.index=0,u.thisArg=i||u,u}return t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var n=!1;try{n=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(km.Subscriber)});var Cc=c(Mt=>{"use strict";var Dm=Mt&&Mt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Mt,"__esModule",{value:!0});var lo=y();function Um(){return function(r){return r.lift(new Bm)}}Mt.exhaust=Um;var Bm=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new Lm(t))},r}(),Lm=function(r){Dm(t,r);function t(e){var n=r.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(lo.innerSubscribe(e,new lo.SimpleInnerSubscriber(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(lo.SimpleOuterSubscriber)});var Nc=c(Ct=>{"use strict";var zm=Ct&&Ct.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ct,"__esModule",{value:!0});var Gm=j(),Ym=A(),po=y();function Ic(r,t){return t?function(e){return e.pipe(Ic(function(n,i){return Ym.from(r(n,i)).pipe(Gm.map(function(o,u){return t(n,o,i,u)}))}))}:function(e){return e.lift(new Qm(r))}}Ct.exhaustMap=Ic;var Qm=function(){function r(t){this.project=t}return r.prototype.call=function(t,e){return e.subscribe(new Hm(t,this.project))},r}(),Hm=function(r){zm(t,r);function t(e,n){var i=r.call(this,e)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var n,i=this.index++;try{n=this.project(e,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},t.prototype._innerSub=function(e){var n=new po.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=po.innerSubscribe(e,n);o!==n&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(po.SimpleOuterSubscriber)});var Vc=c($=>{"use strict";var Km=$&&$.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty($,"__esModule",{value:!0});var ho=y();function Jm(r,t,e){return t===void 0&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new Rc(r,t,e))}}$.expand=Jm;var Rc=function(){function r(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return r.prototype.call=function(t,e){return e.subscribe(new kc(t,this.project,this.concurrent,this.scheduler))},r}();$.ExpandOperator=Rc;var kc=function(r){Km(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.project=n,u.concurrent=i,u.scheduler=o,u.index=0,u.active=0,u.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(u.buffer=[]),u}return t.dispatch=function(e){var n=e.subscriber,i=e.result,o=e.value,u=e.index;n.subscribeToProjection(i,o,u)},t.prototype._next=function(e){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(e);try{var o=this.project,u=o(e,i);if(!this.scheduler)this.subscribeToProjection(u,e,i);else{var s={subscriber:this,result:u,value:e,index:i},f=this.destination;f.add(this.scheduler.schedule(t.dispatch,0,s))}}catch(a){n.error(a)}}else this.buffer.push(e)},t.prototype.subscribeToProjection=function(e,n,i){this.active++;var o=this.destination;o.add(ho.innerSubscribe(e,new ho.SimpleInnerSubscriber(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},t}(ho.SimpleOuterSubscriber);$.ExpandSubscriber=kc});var Wc=c(It=>{"use strict";var Zm=It&&It.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(It,"__esModule",{value:!0});var $m=_(),Xm=O();function eS(r){return function(t){return t.lift(new tS(r))}}It.finalize=eS;var tS=function(){function r(t){this.callback=t}return r.prototype.call=function(t,e){return e.subscribe(new rS(t,this.callback))},r}(),rS=function(r){Zm(t,r);function t(e,n){var i=r.call(this,e)||this;return i.add(new Xm.Subscription(n)),i}return t}($m.Subscriber)});var bo=c(X=>{"use strict";var nS=X&&X.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(X,"__esModule",{value:!0});var iS=_();function oS(r,t){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(e){return e.lift(new Fc(r,e,!1,t))}}X.find=oS;var Fc=function(){function r(t,e,n,i){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(t,e){return e.subscribe(new Dc(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();X.FindValueOperator=Fc;var Dc=function(r){nS(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;return s.predicate=n,s.source=i,s.yieldIndex=o,s.thisArg=u,s.index=0,s}return t.prototype.notifyComplete=function(e){var n=this.destination;n.next(e),n.complete(),this.unsubscribe()},t.prototype._next=function(e){var n=this,i=n.predicate,o=n.thisArg,u=this.index++;try{var s=i.call(o||this,e,u,this.source);s&&this.notifyComplete(this.yieldIndex?u:e)}catch(f){this.destination.error(f)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(iS.Subscriber);X.FindValueSubscriber=Dc});var Uc=c(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});var uS=bo();function sS(r,t){return function(e){return e.lift(new uS.FindValueOperator(r,e,!0,t))}}_o.findIndex=sS});var Bc=c(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});var cS=ve(),aS=K(),fS=zr(),lS=Se(),pS=Et(),hS=V();function bS(r,t){var e=arguments.length>=2;return function(n){return n.pipe(r?aS.filter(function(i,o){return r(i,o,n)}):hS.identity,fS.take(1),e?lS.defaultIfEmpty(t):pS.throwIfEmpty(function(){return new cS.EmptyError}))}}vo.first=bS});var Lc=c(Nt=>{"use strict";var _S=Nt&&Nt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Nt,"__esModule",{value:!0});var vS=_();function dS(){return function(t){return t.lift(new yS)}}Nt.ignoreElements=dS;var yS=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new mS(t))},r}(),mS=function(r){_S(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype._next=function(e){},t}(vS.Subscriber)});var zc=c(Rt=>{"use strict";var SS=Rt&&Rt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Rt,"__esModule",{value:!0});var OS=_();function wS(){return function(r){return r.lift(new gS)}}Rt.isEmpty=wS;var gS=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new xS(t))},r}(),xS=function(r){SS(t,r);function t(e){return r.call(this,e)||this}return t.prototype.notifyComplete=function(e){var n=this.destination;n.next(e),n.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(OS.Subscriber)});var Gr=c(kt=>{"use strict";var qS=kt&&kt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(kt,"__esModule",{value:!0});var jS=_(),PS=_e(),ES=P();function AS(r){return function(e){return r===0?ES.empty():e.lift(new TS(r))}}kt.takeLast=AS;var TS=function(){function r(t){if(this.total=t,this.total<0)throw new PS.ArgumentOutOfRangeError}return r.prototype.call=function(t,e){return e.subscribe(new MS(t,this.total))},r}(),MS=function(r){qS(t,r);function t(e,n){var i=r.call(this,e)||this;return i.total=n,i.ring=new Array,i.count=0,i}return t.prototype._next=function(e){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(e);else{var u=o%i;n[u]=e}},t.prototype._complete=function(){var e=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,u=0;u<i;u++){var s=n++%i;e.next(o[s])}e.complete()},t}(jS.Subscriber)});var Gc=c(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});var CS=ve(),IS=K(),NS=Gr(),RS=Et(),kS=Se(),VS=V();function WS(r,t){var e=arguments.length>=2;return function(n){return n.pipe(r?IS.filter(function(i,o){return r(i,o,n)}):VS.identity,NS.takeLast(1),e?kS.defaultIfEmpty(t):RS.throwIfEmpty(function(){return new CS.EmptyError}))}}yo.last=WS});var Yc=c(Vt=>{"use strict";var FS=Vt&&Vt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Vt,"__esModule",{value:!0});var DS=_();function US(r){return function(t){return t.lift(new BS(r))}}Vt.mapTo=US;var BS=function(){function r(t){this.value=t}return r.prototype.call=function(t,e){return e.subscribe(new LS(t,this.value))},r}(),LS=function(r){FS(t,r);function t(e,n){var i=r.call(this,e)||this;return i.value=n,i}return t.prototype._next=function(e){this.destination.next(this.value)},t}(DS.Subscriber)});var Qc=c(Wt=>{"use strict";var zS=Wt&&Wt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var GS=_(),mo=Ye();function YS(){return function(t){return t.lift(new QS)}}Wt.materialize=YS;var QS=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new HS(t))},r}(),HS=function(r){zS(t,r);function t(e){return r.call(this,e)||this}return t.prototype._next=function(e){this.destination.next(mo.Notification.createNext(e))},t.prototype._error=function(e){var n=this.destination;n.next(mo.Notification.createError(e)),n.complete()},t.prototype._complete=function(){var e=this.destination;e.next(mo.Notification.createComplete()),e.complete()},t}(GS.Subscriber)});var Yr=c(Ft=>{"use strict";var KS=Ft&&Ft.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ft,"__esModule",{value:!0});var JS=_();function ZS(r,t){var e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new $S(r,t,e))}}Ft.scan=ZS;var $S=function(){function r(t,e,n){n===void 0&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return r.prototype.call=function(t,e){return e.subscribe(new XS(t,this.accumulator,this.seed,this.hasSeed))},r}(),XS=function(r){KS(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.accumulator=n,u._seed=i,u.hasSeed=o,u.index=0,u}return Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(!this.hasSeed)this.seed=e,this.destination.next(e);else return this._tryNext(e)},t.prototype._tryNext=function(e){var n=this.index++,i;try{i=this.accumulator(this.seed,e,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},t}(JS.Subscriber)});var Dt=c(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});var Hc=Yr(),Kc=Gr(),eO=Se(),Jc=xr();function tO(r,t){return arguments.length>=2?function(n){return Jc.pipe(Hc.scan(r,t),Kc.takeLast(1),eO.defaultIfEmpty(t))(n)}:function(n){return Jc.pipe(Hc.scan(function(i,o,u){return r(i,o,u+1)}),Kc.takeLast(1))(n)}}So.reduce=tO});var Zc=c(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});var rO=Dt();function nO(r){var t=typeof r=="function"?function(e,n){return r(e,n)>0?e:n}:function(e,n){return e>n?e:n};return rO.reduce(t)}Oo.max=nO});var $c=c(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});var iO=Ci();function oO(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return e.lift.call(iO.merge.apply(void 0,[e].concat(r)))}}wo.merge=oO});var ea=c(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var Xc=ut();function uO(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?Xc.mergeMap(function(){return r},t,e):(typeof t=="number"&&(e=t),Xc.mergeMap(function(){return r},e))}go.mergeMapTo=uO});var na=c(ee=>{"use strict";var sO=ee&&ee.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ee,"__esModule",{value:!0});var xo=y();function cO(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),function(n){return n.lift(new ta(r,t,e))}}ee.mergeScan=cO;var ta=function(){function r(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return r.prototype.call=function(t,e){return e.subscribe(new ra(t,this.accumulator,this.seed,this.concurrent))},r}();ee.MergeScanOperator=ta;var ra=function(r){sO(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.accumulator=n,u.acc=i,u.concurrent=o,u.hasValue=!1,u.hasCompleted=!1,u.buffer=[],u.active=0,u.index=0,u}return t.prototype._next=function(e){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var u=this.accumulator;o=u(this.acc,e,n)}catch(s){return i.error(s)}this.active++,this._innerSub(o)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var n=new xo.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=xo.innerSubscribe(e,n);o!==n&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var n=this.destination;this.acc=e,this.hasValue=!0,n.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t}(xo.SimpleOuterSubscriber);ee.MergeScanSubscriber=ra});var ia=c(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var aO=Dt();function fO(r){var t=typeof r=="function"?function(e,n){return r(e,n)<0?e:n}:function(e,n){return e<n?e:n};return aO.reduce(t)}qo.min=fO});var te=c(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});var lO=An();function pO(r,t){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof t=="function")return n.lift(new oa(i,t));var o=Object.create(n,lO.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}Qr.multicast=pO;var oa=function(){function r(t,e){this.subjectFactory=t,this.selector=e}return r.prototype.call=function(t,e){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(t);return o.add(e.subscribe(i)),o},r}();Qr.MulticastOperator=oa});var ca=c(we=>{"use strict";var hO=we&&we.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(we,"__esModule",{value:!0});var bO=A(),ua=g(),jo=y();function _O(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.length===1&&ua.isArray(r[0])&&(r=r[0]),function(e){return e.lift(new sa(r))}}we.onErrorResumeNext=_O;function vO(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=void 0;return r.length===1&&ua.isArray(r[0])&&(r=r[0]),e=r.shift(),bO.from(e).lift(new sa(r))}we.onErrorResumeNextStatic=vO;var sa=function(){function r(t){this.nextSources=t}return r.prototype.call=function(t,e){return e.subscribe(new dO(t,this.nextSources))},r}(),dO=function(r){hO(t,r);function t(e,n){var i=r.call(this,e)||this;return i.destination=e,i.nextSources=n,i}return t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var n=new jo.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=jo.innerSubscribe(e,n);o!==n&&i.add(o)}else this.destination.complete()},t}(jo.SimpleOuterSubscriber)});var aa=c(Ut=>{"use strict";var yO=Ut&&Ut.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ut,"__esModule",{value:!0});var mO=_();function SO(){return function(r){return r.lift(new OO)}}Ut.pairwise=SO;var OO=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new wO(t))},r}(),wO=function(r){yO(t,r);function t(e){var n=r.call(this,e)||this;return n.hasPrev=!1,n}return t.prototype._next=function(e){var n;this.hasPrev?n=[this.prev,e]:this.hasPrev=!0,this.prev=e,n&&this.destination.next(n)},t}(mO.Subscriber)});var la=c(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var gO=Vi(),fa=K();function xO(r,t){return function(e){return[fa.filter(r,t)(e),fa.filter(gO.not(r,t))(e)]}}Po.partition=xO});var pa=c(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var qO=j();function jO(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r.length;if(e===0)throw new Error("list of properties cannot be empty.");return function(n){return qO.map(PO(r,e))(n)}}Eo.pluck=jO;function PO(r,t){var e=function(n){for(var i=n,o=0;o<t;o++){var u=i?.[r[o]];if(u!==void 0)i=u;else return}return i};return e}});var _a=c(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var ha=w(),ba=te();function EO(r){return r?ba.multicast(function(){return new ha.Subject},r):ba.multicast(new ha.Subject)}Ao.publish=EO});var va=c(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var AO=Cn(),TO=te();function MO(r){return function(t){return TO.multicast(new AO.BehaviorSubject(r))(t)}}To.publishBehavior=MO});var da=c(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var CO=Ke(),IO=te();function NO(){return function(r){return IO.multicast(new CO.AsyncSubject)(r)}}Mo.publishLast=NO});var ya=c(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});var RO=Tr(),kO=te();function VO(r,t,e,n){e&&typeof e!="function"&&(n=e);var i=typeof e=="function"?e:void 0,o=new RO.ReplaySubject(r,t,n);return function(u){return kO.multicast(function(){return o},i)(u)}}Co.publishReplay=VO});var ma=c(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var WO=g(),FO=Fi();function DO(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(n){return r.length===1&&WO.isArray(r[0])&&(r=r[0]),n.lift.call(FO.race.apply(void 0,[n].concat(r)))}}Io.race=DO});var Oa=c(Bt=>{"use strict";var UO=Bt&&Bt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Bt,"__esModule",{value:!0});var BO=_(),LO=P();function zO(r){return r===void 0&&(r=-1),function(t){return r===0?LO.empty():r<0?t.lift(new Sa(-1,t)):t.lift(new Sa(r-1,t))}}Bt.repeat=zO;var Sa=function(){function r(t,e){this.count=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new GO(t,this.count,this.source))},r}(),GO=function(r){UO(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.count=n,o.source=i,o}return t.prototype.complete=function(){if(!this.isStopped){var e=this,n=e.source,i=e.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(BO.Subscriber)});var wa=c(Lt=>{"use strict";var YO=Lt&&Lt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Lt,"__esModule",{value:!0});var QO=w(),No=y();function HO(r){return function(t){return t.lift(new KO(r))}}Lt.repeatWhen=HO;var KO=function(){function r(t){this.notifier=t}return r.prototype.call=function(t,e){return e.subscribe(new JO(t,this.notifier,e))},r}(),JO=function(r){YO(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this,n=e.notifications,i=e.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},t.prototype.subscribeToRetries=function(){this.notifications=new QO.Subject;var e;try{var n=this.notifier;e=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=No.innerSubscribe(e,new No.SimpleInnerSubscriber(this))},t}(No.SimpleOuterSubscriber)});var ga=c(zt=>{"use strict";var ZO=zt&&zt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(zt,"__esModule",{value:!0});var $O=_();function XO(r){return r===void 0&&(r=-1),function(t){return t.lift(new ew(r,t))}}zt.retry=XO;var ew=function(){function r(t,e){this.count=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new tw(t,this.count,this.source))},r}(),tw=function(r){ZO(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.count=n,o.source=i,o}return t.prototype.error=function(e){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return r.prototype.error.call(this,e);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},t}($O.Subscriber)});var xa=c(Gt=>{"use strict";var rw=Gt&&Gt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var nw=w(),Ro=y();function iw(r){return function(t){return t.lift(new ow(r,t))}}Gt.retryWhen=iw;var ow=function(){function r(t,e){this.notifier=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new uw(t,this.notifier,this.source))},r}(),uw=function(r){rw(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.notifier=n,o.source=i,o}return t.prototype.error=function(e){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new nw.Subject;try{var u=this.notifier;i=u(n)}catch(s){return r.prototype.error.call(this,s)}o=Ro.innerSubscribe(i,new Ro.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(e)}},t.prototype._unsubscribe=function(){var e=this,n=e.errors,i=e.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(Ro.SimpleOuterSubscriber)});var qa=c(Yt=>{"use strict";var sw=Yt&&Yt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Yt,"__esModule",{value:!0});var ko=y();function cw(r){return function(t){return t.lift(new aw(r))}}Yt.sample=cw;var aw=function(){function r(t){this.notifier=t}return r.prototype.call=function(t,e){var n=new fw(t),i=e.subscribe(n);return i.add(ko.innerSubscribe(this.notifier,new ko.SimpleInnerSubscriber(n))),i},r}(),fw=function(r){sw(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasValue=!1,e}return t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(ko.SimpleOuterSubscriber)});var ja=c(Qt=>{"use strict";var lw=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Qt,"__esModule",{value:!0});var pw=_(),hw=x();function bw(r,t){return t===void 0&&(t=hw.async),function(e){return e.lift(new _w(r,t))}}Qt.sampleTime=bw;var _w=function(){function r(t,e){this.period=t,this.scheduler=e}return r.prototype.call=function(t,e){return e.subscribe(new vw(t,this.period,this.scheduler))},r}(),vw=function(r){lw(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(dw,n,{subscriber:o,period:n})),o}return t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(pw.Subscriber);function dw(r){var t=r.subscriber,e=r.period;t.notifyNext(),this.schedule(r,e)}});var Ma=c(re=>{"use strict";var Pa=re&&re.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(re,"__esModule",{value:!0});var Ea=_();function yw(r,t){return function(e){return e.lift(new Aa(r,t))}}re.sequenceEqual=yw;var Aa=function(){function r(t,e){this.compareTo=t,this.comparator=e}return r.prototype.call=function(t,e){return e.subscribe(new Ta(t,this.compareTo,this.comparator))},r}();re.SequenceEqualOperator=Aa;var Ta=function(r){Pa(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new mw(e,o))),o}return t.prototype._next=function(e){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,n=e._a,i=e._b,o=e.comparator;n.length>0&&i.length>0;){var u=n.shift(),s=i.shift(),f=!1;try{f=o?o(u,s):u===s}catch(a){this.destination.error(a)}f||this.emit(!1)}},t.prototype.emit=function(e){var n=this.destination;n.next(e),n.complete()},t.prototype.nextB=function(e){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},t}(Ea.Subscriber);re.SequenceEqualSubscriber=Ta;var mw=function(r){Pa(t,r);function t(e,n){var i=r.call(this,e)||this;return i.parent=n,i}return t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(Ea.Subscriber)});var Ca=c(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var Sw=te(),Ow=jr(),ww=w();function gw(){return new ww.Subject}function xw(){return function(r){return Ow.refCount()(Sw.multicast(gw)(r))}}Vo.share=xw});var Ia=c(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var qw=Tr();function jw(r,t,e){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:t,refCount:!1,scheduler:e},function(i){return i.lift(Pw(n))}}Wo.shareReplay=jw;function Pw(r){var t=r.bufferSize,e=t===void 0?Number.POSITIVE_INFINITY:t,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=r.refCount,u=r.scheduler,s,f=0,a,p=!1,b=!1;return function(q){f++;var I;!s||p?(p=!1,s=new qw.ReplaySubject(e,i,u),I=s.subscribe(this),a=q.subscribe({next:function(oe){s.next(oe)},error:function(oe){p=!0,s.error(oe)},complete:function(){b=!0,a=void 0,s.complete()}}),b&&(a=void 0)):I=s.subscribe(this),this.add(function(){f--,I.unsubscribe(),I=void 0,a&&!b&&o&&f===0&&(a.unsubscribe(),a=void 0,s=void 0)})}}});var Na=c(Ht=>{"use strict";var Ew=Ht&&Ht.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ht,"__esModule",{value:!0});var Aw=_(),Tw=ve();function Mw(r){return function(t){return t.lift(new Cw(r,t))}}Ht.single=Mw;var Cw=function(){function r(t,e){this.predicate=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new Iw(t,this.predicate,this.source))},r}(),Iw=function(r){Ew(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var n=this.index++;this.predicate?this.tryNext(e,n):this.applySingleValue(e)},t.prototype.tryNext=function(e,n){try{this.predicate(e,n,this.source)&&this.applySingleValue(e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Tw.EmptyError)},t}(Aw.Subscriber)});var Ra=c(Kt=>{"use strict";var Nw=Kt&&Kt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Kt,"__esModule",{value:!0});var Rw=_();function kw(r){return function(t){return t.lift(new Vw(r))}}Kt.skip=kw;var Vw=function(){function r(t){this.total=t}return r.prototype.call=function(t,e){return e.subscribe(new Ww(t,this.total))},r}(),Ww=function(r){Nw(t,r);function t(e,n){var i=r.call(this,e)||this;return i.total=n,i.count=0,i}return t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(Rw.Subscriber)});var Va=c(Jt=>{"use strict";var Fw=Jt&&Jt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Jt,"__esModule",{value:!0});var ka=_(),Dw=_e();function Uw(r){return function(t){return t.lift(new Bw(r))}}Jt.skipLast=Uw;var Bw=function(){function r(t){if(this._skipCount=t,this._skipCount<0)throw new Dw.ArgumentOutOfRangeError}return r.prototype.call=function(t,e){return this._skipCount===0?e.subscribe(new ka.Subscriber(t)):e.subscribe(new Lw(t,this._skipCount))},r}(),Lw=function(r){Fw(t,r);function t(e,n){var i=r.call(this,e)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return t.prototype._next=function(e){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=e;else{var o=i%n,u=this._ring,s=u[o];u[o]=e,this.destination.next(s)}},t}(ka.Subscriber)});var Wa=c(Zt=>{"use strict";var zw=Zt&&Zt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Zt,"__esModule",{value:!0});var Fo=y();function Gw(r){return function(t){return t.lift(new Yw(r))}}Zt.skipUntil=Gw;var Yw=function(){function r(t){this.notifier=t}return r.prototype.call=function(t,e){return e.subscribe(new Qw(t,this.notifier))},r}(),Qw=function(r){zw(t,r);function t(e,n){var i=r.call(this,e)||this;i.hasValue=!1;var o=new Fo.SimpleInnerSubscriber(i);i.add(o),i.innerSubscription=o;var u=Fo.innerSubscribe(n,o);return u!==o&&(i.add(u),i.innerSubscription=u),i}return t.prototype._next=function(e){this.hasValue&&r.prototype._next.call(this,e)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(Fo.SimpleOuterSubscriber)});var Fa=c($t=>{"use strict";var Hw=$t&&$t.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty($t,"__esModule",{value:!0});var Kw=_();function Jw(r){return function(t){return t.lift(new Zw(r))}}$t.skipWhile=Jw;var Zw=function(){function r(t){this.predicate=t}return r.prototype.call=function(t,e){return e.subscribe(new $w(t,this.predicate))},r}(),$w=function(r){Hw(t,r);function t(e,n){var i=r.call(this,e)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return t.prototype._next=function(e){var n=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||n.next(e)},t.prototype.tryCallPredicate=function(e){try{var n=this.predicate(e,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},t}(Kw.Subscriber)});var Ua=c(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var Da=st(),Xw=E();function e1(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return Xw.isScheduler(e)?(r.pop(),function(n){return Da.concat(r,n,e)}):function(n){return Da.concat(r,n)}}Do.startWith=e1});var Ba=c(Xt=>{"use strict";var t1=Xt&&Xt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Xt,"__esModule",{value:!0});var r1=d(),Uo=Gn(),n1=ct(),i1=function(r){t1(t,r);function t(e,n,i){n===void 0&&(n=0),i===void 0&&(i=Uo.asap);var o=r.call(this)||this;return o.source=e,o.delayTime=n,o.scheduler=i,(!n1.isNumeric(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=Uo.asap),o}return t.create=function(e,n,i){return n===void 0&&(n=0),i===void 0&&(i=Uo.asap),new t(e,n,i)},t.dispatch=function(e){var n=e.source,i=e.subscriber;return this.add(n.subscribe(i))},t.prototype._subscribe=function(e){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(t.dispatch,n,{source:i,subscriber:e})},t}(r1.Observable);Xt.SubscribeOnObservable=i1});var La=c(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var o1=Ba();function u1(r,t){return t===void 0&&(t=0),function(n){return n.lift(new s1(r,t))}}Bo.subscribeOn=u1;var s1=function(){function r(t,e){this.scheduler=t,this.delay=e}return r.prototype.call=function(t,e){return new o1.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},r}()});var Hr=c(er=>{"use strict";var c1=er&&er.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(er,"__esModule",{value:!0});var a1=j(),f1=A(),Lo=y();function za(r,t){return typeof t=="function"?function(e){return e.pipe(za(function(n,i){return f1.from(r(n,i)).pipe(a1.map(function(o,u){return t(n,o,i,u)}))}))}:function(e){return e.lift(new l1(r))}}er.switchMap=za;var l1=function(){function r(t){this.project=t}return r.prototype.call=function(t,e){return e.subscribe(new p1(t,this.project))},r}(),p1=function(r){c1(t,r);function t(e,n){var i=r.call(this,e)||this;return i.project=n,i.index=0,i}return t.prototype._next=function(e){var n,i=this.index++;try{n=this.project(e,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},t.prototype._innerSub=function(e){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Lo.SimpleInnerSubscriber(this),o=this.destination;o.add(i),this.innerSubscription=Lo.innerSubscribe(e,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},t.prototype._complete=function(){var e=this.innerSubscription;(!e||e.closed)&&r.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(Lo.SimpleOuterSubscriber)});var Ga=c(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var h1=Hr(),b1=V();function _1(){return h1.switchMap(b1.identity)}zo.switchAll=_1});var Qa=c(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var Ya=Hr();function v1(r,t){return t?Ya.switchMap(function(){return r},t):Ya.switchMap(function(){return r})}Go.switchMapTo=v1});var Ha=c(tr=>{"use strict";var d1=tr&&tr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(tr,"__esModule",{value:!0});var Yo=y();function y1(r){return function(t){return t.lift(new m1(r))}}tr.takeUntil=y1;var m1=function(){function r(t){this.notifier=t}return r.prototype.call=function(t,e){var n=new S1(t),i=Yo.innerSubscribe(this.notifier,new Yo.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n},r}(),S1=function(r){d1(t,r);function t(e){var n=r.call(this,e)||this;return n.seenValue=!1,n}return t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(Yo.SimpleOuterSubscriber)});var Ka=c(rr=>{"use strict";var O1=rr&&rr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(rr,"__esModule",{value:!0});var w1=_();function g1(r,t){return t===void 0&&(t=!1),function(e){return e.lift(new x1(r,t))}}rr.takeWhile=g1;var x1=function(){function r(t,e){this.predicate=t,this.inclusive=e}return r.prototype.call=function(t,e){return e.subscribe(new q1(t,this.predicate,this.inclusive))},r}(),q1=function(r){O1(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return t.prototype._next=function(e){var n=this.destination,i;try{i=this.predicate(e,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(e,i)},t.prototype.nextOrComplete=function(e,n){var i=this.destination;Boolean(n)?i.next(e):(this.inclusive&&i.next(e),i.complete())},t}(w1.Subscriber)});var Ja=c(nr=>{"use strict";var j1=nr&&nr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(nr,"__esModule",{value:!0});var P1=_(),B=Ir(),E1=ue();function A1(r,t,e){return function(i){return i.lift(new T1(r,t,e))}}nr.tap=A1;var T1=function(){function r(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return r.prototype.call=function(t,e){return e.subscribe(new M1(t,this.nextOrObserver,this.error,this.complete))},r}(),M1=function(r){j1(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u._tapNext=B.noop,u._tapError=B.noop,u._tapComplete=B.noop,u._tapError=i||B.noop,u._tapComplete=o||B.noop,E1.isFunction(n)?(u._context=u,u._tapNext=n):n&&(u._context=n,u._tapNext=n.next||B.noop,u._tapError=n.error||B.noop,u._tapComplete=n.complete||B.noop),u}return t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){this.destination.error(e);return}return this.destination.complete()},t}(P1.Subscriber)});var Ho=c(ne=>{"use strict";var C1=ne&&ne.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ne,"__esModule",{value:!0});var Qo=y();ne.defaultThrottleConfig={leading:!0,trailing:!1};function I1(r,t){return t===void 0&&(t=ne.defaultThrottleConfig),function(e){return e.lift(new N1(r,!!t.leading,!!t.trailing))}}ne.throttle=I1;var N1=function(){function r(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return r.prototype.call=function(t,e){return e.subscribe(new R1(t,this.durationSelector,this.leading,this.trailing))},r}(),R1=function(r){C1(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.destination=e,u.durationSelector=n,u._leading=i,u._trailing=o,u._hasValue=!1,u}return t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this,n=e._hasValue,i=e._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var n=this.tryDurationSelector(e);n&&this.add(this._throttled=Qo.innerSubscribe(n,new Qo.SimpleInnerSubscriber(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(n){return this.destination.error(n),null}},t.prototype.throttlingDone=function(){var e=this,n=e._throttled,i=e._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(Qo.SimpleOuterSubscriber)});var Za=c(ir=>{"use strict";var k1=ir&&ir.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ir,"__esModule",{value:!0});var V1=_(),W1=x(),F1=Ho();function D1(r,t,e){return t===void 0&&(t=W1.async),e===void 0&&(e=F1.defaultThrottleConfig),function(n){return n.lift(new U1(r,t,e.leading,e.trailing))}}ir.throttleTime=D1;var U1=function(){function r(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}return r.prototype.call=function(t,e){return e.subscribe(new B1(t,this.duration,this.scheduler,this.leading,this.trailing))},r}(),B1=function(r){k1(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;return s.duration=n,s.scheduler=i,s.leading=o,s.trailing=u,s._hasTrailingValue=!1,s._trailingValue=null,s}return t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(L1,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(V1.Subscriber);function L1(r){var t=r.subscriber;t.clearThrottle()}});var Xa=c(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});var z1=x(),G1=Yr(),Y1=Wr(),Q1=j();function H1(r){return r===void 0&&(r=z1.async),function(t){return Y1.defer(function(){return t.pipe(G1.scan(function(e,n){var i=e.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),Q1.map(function(e){var n=e.current,i=e.last,o=e.value;return new $a(o,n-i)}))})}}Kr.timeInterval=H1;var $a=function(){function r(t,e){this.value=t,this.interval=e}return r}();Kr.TimeInterval=$a});var Jo=c(or=>{"use strict";var K1=or&&or.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(or,"__esModule",{value:!0});var J1=x(),Z1=io(),Ko=y();function $1(r,t,e){return e===void 0&&(e=J1.async),function(n){var i=Z1.isDate(r),o=i?+r-e.now():Math.abs(r);return n.lift(new X1(o,i,t,e))}}or.timeoutWith=$1;var X1=function(){function r(t,e,n,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(t,e){return e.subscribe(new eg(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),eg=function(r){K1(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=i,s.withObservable=o,s.scheduler=u,s.scheduleTimeout(),s}return t.dispatchTimeout=function(e){var n=e.withObservable;e._unsubscribeAndRecycle(),e.add(Ko.innerSubscribe(n,new Ko.SimpleInnerSubscriber(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,e)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(Ko.SimpleOuterSubscriber)});var ef=c(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var tg=x(),rg=Zn(),ng=Jo(),ig=Ar();function og(r,t){return t===void 0&&(t=tg.async),ng.timeoutWith(r,ig.throwError(new rg.TimeoutError),t)}Zo.timeout=og});var rf=c(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});var ug=x(),sg=j();function cg(r){return r===void 0&&(r=ug.async),sg.map(function(t){return new tf(t,r.now())})}Jr.timestamp=cg;var tf=function(){function r(t,e){this.value=t,this.timestamp=e}return r}();Jr.Timestamp=tf});var nf=c($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var ag=Dt();function fg(r,t,e){return e===0?[t]:(r.push(t),r)}function lg(){return ag.reduce(fg,[])}$o.toArray=lg});var uf=c(ur=>{"use strict";var pg=ur&&ur.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ur,"__esModule",{value:!0});var of=w(),Xo=y();function hg(r){return function(e){return e.lift(new bg(r))}}ur.window=hg;var bg=function(){function r(t){this.windowBoundaries=t}return r.prototype.call=function(t,e){var n=new _g(t),i=e.subscribe(n);return i.closed||n.add(Xo.innerSubscribe(this.windowBoundaries,new Xo.SimpleInnerSubscriber(n))),i},r}(),_g=function(r){pg(t,r);function t(e){var n=r.call(this,e)||this;return n.window=new of.Subject,e.next(n.window),n}return t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var n=this.destination,i=this.window=new of.Subject;n.next(i)},t}(Xo.SimpleOuterSubscriber)});var cf=c(sr=>{"use strict";var vg=sr&&sr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(sr,"__esModule",{value:!0});var dg=_(),sf=w();function yg(r,t){return t===void 0&&(t=0),function(n){return n.lift(new mg(r,t))}}sr.windowCount=yg;var mg=function(){function r(t,e){this.windowSize=t,this.startWindowEvery=e}return r.prototype.call=function(t,e){return e.subscribe(new Sg(t,this.windowSize,this.startWindowEvery))},r}(),Sg=function(r){vg(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.destination=e,o.windowSize=n,o.startWindowEvery=i,o.windows=[new sf.Subject],o.count=0,e.next(o.windows[0]),o}return t.prototype._next=function(e){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,u=this.windows,s=u.length,f=0;f<s&&!this.closed;f++)u[f].next(e);var a=this.count-o+1;if(a>=0&&a%n===0&&!this.closed&&u.shift().complete(),++this.count%n===0&&!this.closed){var p=new sf.Subject;u.push(p),i.next(p)}},t.prototype._error=function(e){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(dg.Subscriber)});var pf=c(cr=>{"use strict";var ff=cr&&cr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(cr,"__esModule",{value:!0});var Og=w(),wg=x(),gg=_(),af=ct(),eu=E();function xg(r){var t=wg.async,e=null,n=Number.POSITIVE_INFINITY;return eu.isScheduler(arguments[3])&&(t=arguments[3]),eu.isScheduler(arguments[2])?t=arguments[2]:af.isNumeric(arguments[2])&&(n=Number(arguments[2])),eu.isScheduler(arguments[1])?t=arguments[1]:af.isNumeric(arguments[1])&&(e=Number(arguments[1])),function(o){return o.lift(new qg(r,e,n,t))}}cr.windowTime=xg;var qg=function(){function r(t,e,n,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(t,e){return e.subscribe(new Pg(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),jg=function(r){ff(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return t.prototype.next=function(e){this._numberOfNextedValues++,r.prototype.next.call(this,e)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(Og.Subject),Pg=function(r){ff(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;s.destination=e,s.windowTimeSpan=n,s.windowCreationInterval=i,s.maxWindowSize=o,s.scheduler=u,s.windows=[];var f=s.openWindow();if(i!==null&&i>=0){var a={subscriber:s,window:f,context:null},p={windowTimeSpan:n,windowCreationInterval:i,subscriber:s,scheduler:u};s.add(u.schedule(lf,n,a)),s.add(u.schedule(Ag,i,p))}else{var b={subscriber:s,window:f,windowTimeSpan:n};s.add(u.schedule(Eg,n,b))}return s}return t.prototype._next=function(e){for(var n=this.windows,i=n.length,o=0;o<i;o++){var u=n[o];u.closed||(u.next(e),u.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(u))}},t.prototype._error=function(e){for(var n=this.windows;n.length>0;)n.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var n=e.shift();n.closed||n.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new jg;this.windows.push(e);var n=this.destination;return n.next(e),e},t.prototype.closeWindow=function(e){e.complete();var n=this.windows;n.splice(n.indexOf(e),1)},t}(gg.Subscriber);function Eg(r){var t=r.subscriber,e=r.windowTimeSpan,n=r.window;n&&t.closeWindow(n),r.window=t.openWindow(),this.schedule(r,e)}function Ag(r){var t=r.windowTimeSpan,e=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,o=e.openWindow(),u=this,s={action:u,subscription:null},f={subscriber:e,window:o,context:s};s.subscription=n.schedule(lf,t,f),u.add(s.subscription),u.schedule(r,i)}function lf(r){var t=r.subscriber,e=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(e)}});var bf=c(ar=>{"use strict";var Tg=ar&&ar.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ar,"__esModule",{value:!0});var Mg=w(),Cg=O(),Ig=F(),hf=D();function Ng(r,t){return function(e){return e.lift(new Rg(r,t))}}ar.windowToggle=Ng;var Rg=function(){function r(t,e){this.openings=t,this.closingSelector=e}return r.prototype.call=function(t,e){return e.subscribe(new kg(t,this.openings,this.closingSelector))},r}(),kg=function(r){Tg(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=hf.subscribeToResult(o,n,n)),o}return t.prototype._next=function(e){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(e)},t.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var u=n[o];u.window.error(e),u.subscription.unsubscribe()}r.prototype._error.call(this,e)},t.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,i=-1;++i<n;){var o=e[i];o.window.complete(),o.subscription.unsubscribe()}r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,i=-1;++i<n;){var o=e[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,n,i,o,u){if(e===this.openings){var s=void 0;try{var f=this.closingSelector;s=f(n)}catch(q){return this.error(q)}var a=new Mg.Subject,p=new Cg.Subscription,b={window:a,subscription:p};this.contexts.push(b);var v=hf.subscribeToResult(this,s,b);v.closed?this.closeWindow(this.contexts.length-1):(v.context=b,p.add(v)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(e!==-1){var n=this.contexts,i=n[e],o=i.window,u=i.subscription;n.splice(e,1),o.complete(),u.unsubscribe()}},t}(Ig.OuterSubscriber)});var _f=c(fr=>{"use strict";var Vg=fr&&fr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(fr,"__esModule",{value:!0});var Wg=w(),Fg=F(),Dg=D();function Ug(r){return function(e){return e.lift(new Bg(r))}}fr.windowWhen=Ug;var Bg=function(){function r(t){this.closingSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Lg(t,this.closingSelector))},r}(),Lg=function(r){Vg(t,r);function t(e,n){var i=r.call(this,e)||this;return i.destination=e,i.closingSelector=n,i.openWindow(),i}return t.prototype.notifyNext=function(e,n,i,o,u){this.openWindow(u)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){e===void 0&&(e=null),e&&(this.remove(e),e.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Wg.Subject;this.destination.next(i);var o;try{var u=this.closingSelector;o=u()}catch(s){this.destination.error(s),this.window.error(s);return}this.add(this.closingNotification=Dg.subscribeToResult(this,o))},t}(Fg.OuterSubscriber)});var vf=c(lr=>{"use strict";var zg=lr&&lr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(lr,"__esModule",{value:!0});var Gg=F(),Yg=D();function Qg(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return e.lift(new Hg(i,n))}}lr.withLatestFrom=Qg;var Hg=function(){function r(t,e){this.observables=t,this.project=e}return r.prototype.call=function(t,e){return e.subscribe(new Kg(t,this.observables,this.project))},r}(),Kg=function(r){zg(t,r);function t(e,n,i){var o=r.call(this,e)||this;o.observables=n,o.project=i,o.toRespond=[];var u=n.length;o.values=new Array(u);for(var s=0;s<u;s++)o.toRespond.push(s);for(var s=0;s<u;s++){var f=n[s];o.add(Yg.subscribeToResult(o,f,void 0,s))}return o}return t.prototype.notifyNext=function(e,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var u=o.indexOf(i);u!==-1&&o.splice(u,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(this.toRespond.length===0){var n=[e].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},t.prototype._tryProject=function(e){var n;try{n=this.project.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(Gg.OuterSubscriber)});var df=c(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});var Jg=Lr();function Zg(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(n){return n.lift.call(Jg.zip.apply(void 0,[n].concat(r)))}}tu.zip=Zg});var yf=c(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});var $g=Lr();function Xg(r){return function(t){return t.lift(new $g.ZipOperator(r))}}ru.zipAll=Xg});var ge=c(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var ex=Gi();l.audit=ex.audit;var tx=tc();l.auditTime=tx.auditTime;var rx=rc();l.buffer=rx.buffer;var nx=oc();l.bufferCount=nx.bufferCount;var ix=cc();l.bufferTime=ix.bufferTime;var ox=fc();l.bufferToggle=ox.bufferToggle;var ux=lc();l.bufferWhen=ux.bufferWhen;var sx=pc();l.catchError=sx.catchError;var cx=hc();l.combineAll=cx.combineAll;var ax=bc();l.combineLatest=ax.combineLatest;var fx=_c();l.concat=fx.concat;var lx=Oi();l.concatAll=lx.concatAll;var px=eo();l.concatMap=px.concatMap;var hx=vc();l.concatMapTo=hx.concatMapTo;var bx=dc();l.count=bx.count;var _x=yc();l.debounce=_x.debounce;var vx=mc();l.debounceTime=vx.debounceTime;var dx=Se();l.defaultIfEmpty=dx.defaultIfEmpty;var yx=Oc();l.delay=yx.delay;var mx=gc();l.delayWhen=mx.delayWhen;var Sx=xc();l.dematerialize=Sx.dematerialize;var Ox=jc();l.distinct=Ox.distinct;var wx=so();l.distinctUntilChanged=wx.distinctUntilChanged;var gx=Pc();l.distinctUntilKeyChanged=gx.distinctUntilKeyChanged;var xx=Ac();l.elementAt=xx.elementAt;var qx=Tc();l.endWith=qx.endWith;var jx=Mc();l.every=jx.every;var Px=Cc();l.exhaust=Px.exhaust;var Ex=Nc();l.exhaustMap=Ex.exhaustMap;var Ax=Vc();l.expand=Ax.expand;var Tx=K();l.filter=Tx.filter;var Mx=Wc();l.finalize=Mx.finalize;var Cx=bo();l.find=Cx.find;var Ix=Uc();l.findIndex=Ix.findIndex;var Nx=Bc();l.first=Nx.first;var Rx=Mn();l.groupBy=Rx.groupBy;var kx=Lc();l.ignoreElements=kx.ignoreElements;var Vx=zc();l.isEmpty=Vx.isEmpty;var Wx=Gc();l.last=Wx.last;var Fx=j();l.map=Fx.map;var Dx=Yc();l.mapTo=Dx.mapTo;var Ux=Qc();l.materialize=Ux.materialize;var Bx=Zc();l.max=Bx.max;var Lx=$c();l.merge=Lx.merge;var zx=Vr();l.mergeAll=zx.mergeAll;var mf=ut();l.mergeMap=mf.mergeMap;l.flatMap=mf.flatMap;var Gx=ea();l.mergeMapTo=Gx.mergeMapTo;var Yx=na();l.mergeScan=Yx.mergeScan;var Qx=ia();l.min=Qx.min;var Hx=te();l.multicast=Hx.multicast;var Kx=zn();l.observeOn=Kx.observeOn;var Jx=ca();l.onErrorResumeNext=Jx.onErrorResumeNext;var Zx=aa();l.pairwise=Zx.pairwise;var $x=la();l.partition=$x.partition;var Xx=pa();l.pluck=Xx.pluck;var eq=_a();l.publish=eq.publish;var tq=va();l.publishBehavior=tq.publishBehavior;var rq=da();l.publishLast=rq.publishLast;var nq=ya();l.publishReplay=nq.publishReplay;var iq=ma();l.race=iq.race;var oq=Dt();l.reduce=oq.reduce;var uq=Oa();l.repeat=uq.repeat;var sq=wa();l.repeatWhen=sq.repeatWhen;var cq=ga();l.retry=cq.retry;var aq=xa();l.retryWhen=aq.retryWhen;var fq=jr();l.refCount=fq.refCount;var lq=qa();l.sample=lq.sample;var pq=ja();l.sampleTime=pq.sampleTime;var hq=Yr();l.scan=hq.scan;var bq=Ma();l.sequenceEqual=bq.sequenceEqual;var _q=Ca();l.share=_q.share;var vq=Ia();l.shareReplay=vq.shareReplay;var dq=Na();l.single=dq.single;var yq=Ra();l.skip=yq.skip;var mq=Va();l.skipLast=mq.skipLast;var Sq=Wa();l.skipUntil=Sq.skipUntil;var Oq=Fa();l.skipWhile=Oq.skipWhile;var wq=Ua();l.startWith=wq.startWith;var gq=La();l.subscribeOn=gq.subscribeOn;var xq=Ga();l.switchAll=xq.switchAll;var qq=Hr();l.switchMap=qq.switchMap;var jq=Qa();l.switchMapTo=jq.switchMapTo;var Pq=zr();l.take=Pq.take;var Eq=Gr();l.takeLast=Eq.takeLast;var Aq=Ha();l.takeUntil=Aq.takeUntil;var Tq=Ka();l.takeWhile=Tq.takeWhile;var Mq=Ja();l.tap=Mq.tap;var Cq=Ho();l.throttle=Cq.throttle;var Iq=Za();l.throttleTime=Iq.throttleTime;var Nq=Et();l.throwIfEmpty=Nq.throwIfEmpty;var Rq=Xa();l.timeInterval=Rq.timeInterval;var kq=ef();l.timeout=kq.timeout;var Vq=Jo();l.timeoutWith=Vq.timeoutWith;var Wq=rf();l.timestamp=Wq.timestamp;var Fq=nf();l.toArray=Fq.toArray;var Dq=uf();l.window=Dq.window;var Uq=cf();l.windowCount=Uq.windowCount;var Bq=pf();l.windowTime=Bq.windowTime;var Lq=bf();l.windowToggle=Lq.windowToggle;var zq=_f();l.windowWhen=zq.windowWhen;var Gq=vf();l.withLatestFrom=Gq.withLatestFrom;var Yq=df();l.zip=Yq.zip;var Qq=yf();l.zipAll=Qq.zipAll});var gf=c(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var Zr=ge();function Hq(r){return r.pipe(Zr.concatMap(function(t){return t.split("")}),Zr.scan(function(t,e){return t.indexOf("}")>=0?e:t+e},""),Zr.filter(function(t){return t.indexOf("}")>=0}),Zr.map(function(t){return JSON.parse(t)}))}T.parseControl=Hq;function Sf(r){for(var t=[],e=0;e<r.length;e++)e%3===0?t.push(r[e]<<4|r[e+1]>>4):(t.push((r[e]&15)<<8|r[e+1]),e++);return t}T.decodeUnsigned12BitData=Sf;function Of(r){for(var t=[],e=0;e<r.length;e=e+3)t.push(r[e]<<16|r[e+1]<<8|r[e+2]);return t}T.decodeUnsigned24BitData=Of;function Kq(r){return Sf(r).map(function(t){return .48828125*(t-2048)})}T.decodeEEGSamples=Kq;function Jq(r){return Of(r)}T.decodePPGSamples=Jq;function Zq(r){return{sequenceId:r.getUint16(0),batteryLevel:r.getUint16(2)/512,fuelGaugeVoltage:r.getUint16(4)*2.2,temperature:r.getUint16(8)}}T.parseTelemetry=Zq;function wf(r,t){function e(n){return{x:t*r.getInt16(n),y:t*r.getInt16(n+2),z:t*r.getInt16(n+4)}}return{sequenceId:r.getUint16(0),samples:[e(2),e(8),e(14)]}}function $q(r){return wf(r,610352e-10)}T.parseAccelerometer=$q;function Xq(r){return wf(r,.0074768)}T.parseGyroscope=Xq});var jf=c(R=>{"use strict";var ej=R&&R.__awaiter||function(r,t,e,n){return new(e||(e=Promise))(function(i,o){function u(a){try{f(n.next(a))}catch(p){o(p)}}function s(a){try{f(n.throw(a))}catch(p){o(p)}}function f(a){a.done?i(a.value):new e(function(p){p(a.value)}).then(u,s)}f((n=n.apply(r,t||[])).next())})},tj=R&&R.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(a){return function(p){return f([a,p])}}function f(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(p){a=[6,p],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(R,"__esModule",{value:!0});var xf=lt(),qf=ge();function rj(r){return new TextDecoder().decode(r.subarray(1,1+r[0]))}R.decodeResponse=rj;function nj(r){var t=new TextEncoder().encode("X"+r+`
`);return t[0]=t.length-1,t}R.encodeCommand=nj;function ij(r){return ej(this,void 0,void 0,function(){var t;return tj(this,function(e){switch(e.label){case 0:return[4,r.startNotifications()];case 1:return e.sent(),t=xf.fromEvent(r.service.device,"gattserverdisconnected"),[2,xf.fromEvent(r,"characteristicvaluechanged").pipe(qf.takeUntil(t),qf.map(function(n){return n.target.value}))]}})})}R.observableCharacteristic=ij});var Pf=c(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});var $r=lt(),nu=ge(),oj=Xr();function uj(r){var t=[],e=null;return r.pipe(nu.mergeMap(function(n){if(n.timestamp!==e&&(e=n.timestamp,t.length)){var i=$r.from([t.slice()]);return t.splice(0,t.length,n),i}return t.push(n),$r.from([])}),nu.concat($r.from([t])),nu.mergeMap(function(n){var i=n[0].samples.map(function(o,u){for(var s=[NaN,NaN,NaN,NaN,NaN],f=0,a=n;f<a.length;f++){var p=a[f];s[p.electrode]=p.samples[u]}return{data:s,index:n[0].index,timestamp:n[0].timestamp+u*1e3/oj.EEG_FREQUENCY}});return $r.from(i)}))}iu.zipSamples=uj});var Ef=c(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});var en=lt(),ou=ge(),sj=Xr();function cj(r){var t=[],e=null;return r.pipe(ou.mergeMap(function(n){if(n.timestamp!==e&&(e=n.timestamp,t.length)){var i=en.from([t.slice()]);return t.splice(0,t.length,n),i}return t.push(n),en.from([])}),ou.concat(en.from([t])),ou.mergeMap(function(n){var i=n[0].samples.map(function(o,u){for(var s=[NaN,NaN,NaN],f=0,a=n;f<a.length;f++){var p=a[f];s[p.ppgChannel]=p.samples[u]}return{data:s,index:n[0].index,timestamp:n[0].timestamp+u*1e3/sj.PPG_FREQUENCY}});return en.from(i)}))}uu.zipSamplesPpg=cj});var Xr=c(m=>{"use strict";var ie=m&&m.__awaiter||function(r,t,e,n){return new(e||(e=Promise))(function(i,o){function u(a){try{f(n.next(a))}catch(p){o(p)}}function s(a){try{f(n.throw(a))}catch(p){o(p)}}function f(a){a.done?i(a.value):new e(function(p){p(a.value)}).then(u,s)}f((n=n.apply(r,t||[])).next())})},k=m&&m.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(a){return function(p){return f([a,p])}}function f(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(p){a=[6,p],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(m,"__esModule",{value:!0});var pr=lt(),M=ge(),xe=gf(),C=jf(),aj=Pf();m.zipSamples=aj.zipSamples;var fj=Ef();m.zipSamplesPpg=fj.zipSamplesPpg;m.MUSE_SERVICE=65165;var lj="273e0001-4c4d-454d-96be-f03bac821358",pj="273e000b-4c4d-454d-96be-f03bac821358",hj="273e0009-4c4d-454d-96be-f03bac821358",bj="273e000a-4c4d-454d-96be-f03bac821358",Af=["273e000f-4c4d-454d-96be-f03bac821358","273e0010-4c4d-454d-96be-f03bac821358","273e0011-4c4d-454d-96be-f03bac821358"];m.PPG_FREQUENCY=64;m.PPG_SAMPLES_PER_READING=6;var Tf=["273e0003-4c4d-454d-96be-f03bac821358","273e0004-4c4d-454d-96be-f03bac821358","273e0005-4c4d-454d-96be-f03bac821358","273e0006-4c4d-454d-96be-f03bac821358","273e0007-4c4d-454d-96be-f03bac821358"];m.EEG_FREQUENCY=256;m.EEG_SAMPLES_PER_READING=12;m.ppgChannelNames=["ambient","infrared","red"];m.channelNames=["TP9","AF7","AF8","TP10","AUX"];var _j=function(){function r(){this.enableAux=!1,this.enablePpg=!1,this.deviceName="",this.connectionStatus=new pr.BehaviorSubject(!1),this.gatt=null,this.lastIndex=null,this.lastTimestamp=null}return r.prototype.connect=function(t){return ie(this,void 0,void 0,function(){var e,n,i,o,u,s,f,a,p,b,v,q,I,oe,su,br,tn,cu,au,fu,_r,vr=this;return k(this,function(S){switch(S.label){case 0:return t?(this.gatt=t,[3,4]):[3,1];case 1:return[4,navigator.bluetooth.requestDevice({filters:[{services:[m.MUSE_SERVICE]}]})];case 2:return e=S.sent(),n=this,[4,e.gatt.connect()];case 3:n.gatt=S.sent(),S.label=4;case 4:return this.deviceName=this.gatt.device.name||null,[4,this.gatt.getPrimaryService(m.MUSE_SERVICE)];case 5:return i=S.sent(),pr.fromEvent(this.gatt.device,"gattserverdisconnected").pipe(M.first()).subscribe(function(){vr.gatt=null,vr.connectionStatus.next(!1)}),o=this,[4,i.getCharacteristic(lj)];case 6:return o.controlChar=S.sent(),u=this,[4,C.observableCharacteristic(this.controlChar)];case 7:return u.rawControlData=S.sent().pipe(M.map(function(L){return C.decodeResponse(new Uint8Array(L.buffer))}),M.share()),this.controlResponses=xe.parseControl(this.rawControlData),[4,i.getCharacteristic(pj)];case 8:return s=S.sent(),f=this,[4,C.observableCharacteristic(s)];case 9:return f.telemetryData=S.sent().pipe(M.map(xe.parseTelemetry)),[4,i.getCharacteristic(hj)];case 10:return a=S.sent(),p=this,[4,C.observableCharacteristic(a)];case 11:return p.gyroscopeData=S.sent().pipe(M.map(xe.parseGyroscope)),[4,i.getCharacteristic(bj)];case 12:return b=S.sent(),v=this,[4,C.observableCharacteristic(b)];case 13:if(v.accelerometerData=S.sent().pipe(M.map(xe.parseAccelerometer)),this.eventMarkers=new pr.Subject,!this.enablePpg)return[3,18];this.ppgCharacteristics=[],q=[],I=Af.length,oe=function(L){var qe,z,je,Pe;return k(this,function(G){switch(G.label){case 0:return qe=Af[L],[4,i.getCharacteristic(qe)];case 1:return z=G.sent(),Pe=(je=q).push,[4,C.observableCharacteristic(z)];case 2:return Pe.apply(je,[G.sent().pipe(M.map(function(Ee){var Ae=Ee.getUint16(0);return{index:Ae,ppgChannel:L,samples:xe.decodePPGSamples(new Uint8Array(Ee.buffer).subarray(2)),timestamp:vr.getTimestamp(Ae,m.PPG_SAMPLES_PER_READING,m.PPG_FREQUENCY)}}))]),su.ppgCharacteristics.push(z),[2]}})},su=this,br=0,S.label=14;case 14:return br<I?[5,oe(br)]:[3,17];case 15:S.sent(),S.label=16;case 16:return br++,[3,14];case 17:this.ppgReadings=pr.merge.apply(void 0,q),S.label=18;case 18:this.eegCharacteristics=[],tn=[],cu=this.enableAux?Tf.length:4,au=function(L){var qe,z,je,Pe;return k(this,function(G){switch(G.label){case 0:return qe=Tf[L],[4,i.getCharacteristic(qe)];case 1:return z=G.sent(),Pe=(je=tn).push,[4,C.observableCharacteristic(z)];case 2:return Pe.apply(je,[G.sent().pipe(M.map(function(Ee){var Ae=Ee.getUint16(0);return{electrode:L,index:Ae,samples:xe.decodeEEGSamples(new Uint8Array(Ee.buffer).subarray(2)),timestamp:vr.getTimestamp(Ae,m.EEG_SAMPLES_PER_READING,m.EEG_FREQUENCY)}}))]),fu.eegCharacteristics.push(z),[2]}})},fu=this,_r=0,S.label=19;case 19:return _r<cu?[5,au(_r)]:[3,22];case 20:S.sent(),S.label=21;case 21:return _r++,[3,19];case 22:return this.eegReadings=pr.merge.apply(void 0,tn),this.connectionStatus.next(!0),[2]}})})},r.prototype.sendCommand=function(t){return ie(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.controlChar.writeValue(C.encodeCommand(t))];case 1:return e.sent(),[2]}})})},r.prototype.start=function(){return ie(this,void 0,void 0,function(){var t;return k(this,function(e){switch(e.label){case 0:return[4,this.pause()];case 1:return e.sent(),t="p21",this.enablePpg?t="p50":this.enableAux&&(t="p20"),[4,this.controlChar.writeValue(C.encodeCommand(t))];case 2:return e.sent(),[4,this.controlChar.writeValue(C.encodeCommand("s"))];case 3:return e.sent(),[4,this.resume()];case 4:return e.sent(),[2]}})})},r.prototype.pause=function(){return ie(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return[4,this.sendCommand("h")];case 1:return t.sent(),[2]}})})},r.prototype.resume=function(){return ie(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return[4,this.sendCommand("d")];case 1:return t.sent(),[2]}})})},r.prototype.deviceInfo=function(){return ie(this,void 0,void 0,function(){var t;return k(this,function(e){switch(e.label){case 0:return t=this.controlResponses.pipe(M.filter(function(n){return!!n.fw}),M.take(1)).toPromise(),[4,this.sendCommand("v1")];case 1:return e.sent(),[2,t]}})})},r.prototype.injectMarker=function(t,e){return e===void 0&&(e=new Date().getTime()),ie(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:return[4,this.eventMarkers.next({value:t,timestamp:e})];case 1:return n.sent(),[2]}})})},r.prototype.disconnect=function(){this.gatt&&(this.lastIndex=null,this.lastTimestamp=null,this.gatt.disconnect(),this.connectionStatus.next(!1))},r.prototype.getTimestamp=function(t,e,n){var i=1e3*(1/n)*e;for((this.lastIndex===null||this.lastTimestamp===null)&&(this.lastIndex=t,this.lastTimestamp=new Date().getTime()-i);this.lastIndex-t>4096;)t+=65536;return t===this.lastIndex?this.lastTimestamp:t>this.lastIndex?(this.lastTimestamp+=i*(t-this.lastIndex),this.lastIndex=t,this.lastTimestamp):this.lastTimestamp-i*(this.lastIndex-t)},r}();m.MuseClient=_j});var hr={};Vf(hr,{MuseClient:()=>Mf.MuseClient});var Mf=Ff(Xr(),1);["MuseClient"].forEach(r=>{hr[r]&&(globalThis[r]=hr[r])});(0,eval)(function(t){console.log("prepackaged bundle script!",t)})(hr);})();
